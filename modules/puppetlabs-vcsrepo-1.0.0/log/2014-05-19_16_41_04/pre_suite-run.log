[01;37m[00;00m[01;37mBegin install.rb
[00;00m[01;37m
Installing Puppet and vcsrepo module
[00;00m[00;37m
centos-64-x64 16:41:04$  rpm -ivh http://yum.puppetlabs.com/puppetlabs-release-el-6.noarch.rpm  
[00;00m[01;30mwarning: [00;00m[01;30m/var/tmp/rpm-tmp.ZlFC8H: Header V4 RSA/SHA1 Signature, key ID 4bd6ec30: NOKEY
[00;00m[01;30mRetrieving http://yum.puppetlabs.com/puppetlabs-release-el-6.noarch.rpm
Preparing...                [00;00m[01;30m##################################################[00;00m[01;30m
[00;00m[01;30mpuppetlabs-release          [00;00m[01;30m############################[00;00m[01;30m####################[00;00m[01;30m##[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 5.29 seconds
[00;00m[00;37m
centos-64-x64 16:41:09$  yum install -y puppet  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mDetermining fastest mirrors
[00;00m[01;30m * base: centos.mirrors.tds.net
 * extras: mirror.cs.uwp.edu
 * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mResolving Dependencies
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package puppet.noarch 0:3.6.0-1.el6 will be installed
[00;00m[01;30m--> Processing Dependency: facter >= 1:1.7.0 for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: ruby >= 1.8.7 for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: hiera >= 1.0.0 for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: ruby >= 1.8 for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: ruby-rgen >= 0.6.5 for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: ruby(selinux) for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: /usr/bin/ruby for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: rubygem-json for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: ruby-shadow for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Processing Dependency: ruby-augeas for package: puppet-3.6.0-1.el6.noarch
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package facter.x86_64 1:2.0.1-1.el6 will be installed
[00;00m[01;30m---> Package hiera.noarch 0:1.3.2-1.el6 will be installed
[00;00m[01;30m---> Package libselinux-ruby.x86_64 0:2.0.94-5.3.el6_4.1 will be installed
[00;00m[01;30m--> Processing Dependency: libselinux = 2.0.94-5.3.el6_4.1 for package: libselinux-ruby-2.0.94-5.3.el6_4.1.x86_64
[00;00m[01;30m---> Package ruby.x86_64 0:1.8.7.352-13.el6 will be installed
[00;00m[01;30m--> Processing Dependency: ruby-libs = 1.8.7.352-13.el6 for package: ruby-1.8.7.352-13.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libruby.so.1.8()(64bit) for package: ruby-1.8.7.352-13.el6.x86_64
[00;00m[01;30m---> Package ruby-augeas.x86_64 0:0.4.1-3.el6 will be installed
[00;00m[01;30m--> Processing Dependency: augeas-libs >= 0.8.0 for package: ruby-augeas-0.4.1-3.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libaugeas.so.0(AUGEAS_0.12.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libaugeas.so.0(AUGEAS_0.8.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libaugeas.so.0(AUGEAS_0.11.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libaugeas.so.0(AUGEAS_0.1.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libaugeas.so.0(AUGEAS_0.10.0)(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libaugeas.so.0()(64bit) for package: ruby-augeas-0.4.1-3.el6.x86_64
[00;00m[01;30m---> Package ruby-rgen.noarch 0:0.6.5-2.el6 will be installed
[00;00m[01;30m---> Package ruby-shadow.x86_64 1:2.2.0-2.el6 will be installed
[00;00m[01;30m---> Package rubygem-json.x86_64 0:1.5.5-1.el6 will be installed
[00;00m[01;30m--> Processing Dependency: rubygems for package: rubygem-json-1.5.5-1.el6.x86_64
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package augeas-libs.x86_64 0:1.0.0-5.el6_5.1 will be installed
[00;00m[01;30m---> Package libselinux.x86_64 0:2.0.94-5.3.el6 will be updated
[00;00m[01;30m--> Processing Dependency: libselinux = 2.0.94-5.3.el6 for package: libselinux-utils-2.0.94-5.3.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libselinux = 2.0.94-5.3.el6 for package: libselinux-devel-2.0.94-5.3.el6.x86_64
[00;00m[01;30m---> Package libselinux.x86_64 0:2.0.94-5.3.el6_4.1 will be an update
[00;00m[01;30m---> Package ruby-libs.x86_64 0:1.8.7.352-13.el6 will be installed
[00;00m[01;30m--> Processing Dependency: libssl.so.10(libssl.so.10)(64bit) for package: ruby-libs-1.8.7.352-13.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libcrypto.so.10(libcrypto.so.10)(64bit) for package: ruby-libs-1.8.7.352-13.el6.x86_64
[00;00m[01;30m--> Processing Dependency: libreadline.so.5()(64bit) for package: ruby-libs-1.8.7.352-13.el6.x86_64
[00;00m[01;30m---> Package rubygems.noarch 0:1.3.7-5.el6 will be installed
[00;00m[01;30m--> Processing Dependency: ruby-rdoc for package: rubygems-1.3.7-5.el6.noarch
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package compat-readline5.x86_64 0:5.2-17.1.el6 will be installed
[00;00m[01;30m---> Package libselinux-devel.x86_64 0:2.0.94-5.3.el6 will be updated
[00;00m[01;30m---> Package libselinux-devel.x86_64 0:2.0.94-5.3.el6_4.1 will be an update
[00;00m[01;30m---> Package libselinux-utils.x86_64 0:2.0.94-5.3.el6 will be updated
[00;00m[01;30m---> Package libselinux-utils.x86_64 0:2.0.94-5.3.el6_4.1 will be an update
[00;00m[01;30m---> Package openssl.x86_64 0:1.0.0-27.el6_4.2 will be updated
[00;00m[01;30m--> Processing Dependency: openssl = 1.0.0-27.el6_4.2 for package: openssl-devel-1.0.0-27.el6_4.2.x86_64
[00;00m[01;30m---> Package openssl.x86_64 0:1.0.1e-16.el6_5.7 will be an update
[00;00m[01;30m---> Package ruby-rdoc.x86_64 0:1.8.7.352-13.el6 will be installed
[00;00m[01;30m--> Processing Dependency: ruby-irb = 1.8.7.352-13.el6 for package: ruby-rdoc-1.8.7.352-13.el6.x86_64
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package openssl-devel.x86_64 0:1.0.0-27.el6_4.2 will be updated
[00;00m[01;30m---> Package openssl-devel.x86_64 0:1.0.1e-16.el6_5.7 will be an update
[00;00m[01;30m---> Package ruby-irb.x86_64 0:1.8.7.352-13.el6 will be installed
[00;00m[01;30m--> Finished Dependency Resolution
[00;00m[01;30m
Dependencies Resolved
[00;00m[01;30m
================================================================================
 Package            Arch     Version                Repository             Size
================================================================================
Installing:
 puppet             noarch   3.6.0-1.el6            puppetlabs-products   1.3 M
Installing for dependencies:
 augeas-libs        x86_64   1.0.0-5.el6_5.1        updates               309 k
 compat-readline5   x86_64   5.2-17.1.el6           base                  130 k
 facter             x86_64   1:2.0.1-1.el6          puppetlabs-products    84 k
 hiera              noarch   1.3.2-1.el6            puppetlabs-products    23 k
 libselinux-ruby    x86_64   2.0.94-5.3.el6_4.1     base                   99 k
 ruby               x86_64   1.8.7.352-13.el6       updates               534 k
 ruby-augeas        x86_64   0.4.1-3.el6            puppetlabs-deps        21 k
 ruby-irb           x86_64   1.8.7.352-13.el6       updates               314 k
 ruby-libs          x86_64   1.8.7.352-13.el6       updates               1.6 M
 ruby-rdoc          x86_64   1.8.7.352-13.el6       updates               377 k
 ruby-rgen          noarch   0.6.5-2.el6            puppetlabs-deps       237 k
 ruby-shadow        x86_64   1:2.2.0-2.el6          puppetlabs-deps        13 k
 rubygem-json       x86_64   1.5.5-1.el6            puppetlabs-deps       763 k
 rubygems           noarch   1.3.7-5.el6            base                  207 k
Updating for dependencies:
 libselinux         x86_64   2.0.94-5.3.el6_4.1     base                  108 k
 libselinux-devel   x86_64   2.0.94-5.3.el6_4.1     base                  136 k
 libselinux-utils   x86_64   2.0.94-5.3.el6_4.1     base                   81 k
 openssl            x86_64   1.0.1e-16.el6_5.7      updates               1.5 M
 openssl-devel      x86_64   1.0.1e-16.el6_5.7      updates               1.2 M

Transaction Summary
================================================================================
Install      15 Package(s)
Upgrade       5 Package(s)

[00;00m[01;30mTotal download size: 8.9 M
[00;00m[01;30mDownloading Packages:
[00;00m[01;30m--------------------------------------------------------------------------------
[00;00m[01;30mTotal                                           1.1 MB/s | 8.9 MB     00:07     
[00;00m[01;30mwarning: [00;00m[01;30mrpmts_HdrFromFdno: Header V4 RSA/SHA512 Signature, key ID 4bd6ec30: NOKEY
[00;00m[01;30mRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-puppetlabs
[00;00m[01;30mImporting GPG key 0x4BD6EC30:
 Userid : Puppet Labs Release Key (Puppet Labs Release Key) <info@puppetlabs.com>
 Package: puppetlabs-release-6-10.noarch (installed)
 From   : /etc/pki/rpm-gpg/RPM-GPG-KEY-puppetlabs
[00;00m[01;30mRunning rpm_check_debug
[00;00m[01;30mRunning Transaction Test
[00;00m[01;30mTransaction Test Succeeded
[00;00m[01;30mRunning Transaction
[00;00m[01;30mWarning: RPMDB altered outside of yum.
[00;00m[01;30m  Updating   : libselinux-2.0.94-5.3.el6_4.1.x86_64                        1/25[00;00m[01;30m 
  Updating   : openssl-1.0.1e-16.el6_5.7.x86_64                            2/25[00;00m[01;30m 
  Updating   : libselinux-utils-2.0.94-5.3.el6_4.1.x86_64                  3/25[00;00m[01;30m 
  Installing : augeas-libs-1.0.0-5.el6_5.1.x86_64                          4/25[00;00m[01;30m 
  Installing : libselinux-ruby-2.0.94-5.3.el6_4.1.x86_64                   5/25[00;00m[01;30m 
  Installing : compat-readline5-5.2-17.1.el6.x86_64                        6/25[00;00m[01;30m 
  Installing : ruby-libs-1.8.7.352-13.el6.x86_64                           7/25[00;00m[01;30m 
  Installing : ruby-1.8.7.352-13.el6.x86_64                                8/25[00;00m[01;30m 
  Installing : 1:ruby-shadow-2.2.0-2.el6.x86_64                            9/25[00;00m[01;30m 
  Installing : ruby-rgen-0.6.5-2.el6.noarch                               10/25[00;00m[01;30m 
  Installing : 1:facter-2.0.1-1.el6.x86_64                                11/25[00;00m[01;30m 
  Installing : ruby-irb-1.8.7.352-13.el6.x86_64                           12/25[00;00m[01;30m 
  Installing : ruby-rdoc-1.8.7.352-13.el6.x86_64                          13/25[00;00m[01;30m 
  Installing : rubygems-1.3.7-5.el6.noarch                                14/25[00;00m[01;30m 
  Installing : rubygem-json-1.5.5-1.el6.x86_64                            15/25[00;00m[01;30m 
  Installing : hiera-1.3.2-1.el6.noarch                                   16/25[00;00m[01;30m 
  Installing : ruby-augeas-0.4.1-3.el6.x86_64                             17/25[00;00m[01;30m 
  Installing : puppet-3.6.0-1.el6.noarch                                  18/25[00;00m[01;30m 
  Updating   : openssl-devel-1.0.1e-16.el6_5.7.x86_64                     19/25[00;00m[01;30m 
  Updating   : libselinux-devel-2.0.94-5.3.el6_4.1.x86_64                 20/25[00;00m[01;30m 
  Cleanup    : libselinux-devel-2.0.94-5.3.el6.x86_64                     21/25[00;00m[01;30m 
  Cleanup    : openssl-devel-1.0.0-27.el6_4.2.x86_64                      22/25[00;00m[01;30m 
  Cleanup    : libselinux-utils-2.0.94-5.3.el6.x86_64                     23/25[00;00m[01;30m 
  Cleanup    : libselinux-2.0.94-5.3.el6.x86_64                           24/25[00;00m[01;30m 
  Cleanup    : openssl-1.0.0-27.el6_4.2.x86_64                            25/25[00;00m[01;30m 
  Verifying  : openssl-devel-1.0.1e-16.el6_5.7.x86_64                      1/25[00;00m[01;30m 
  Verifying  : ruby-libs-1.8.7.352-13.el6.x86_64                           2/25[00;00m[01;30m 
  Verifying  : libselinux-devel-2.0.94-5.3.el6_4.1.x86_64                  3/25[00;00m[01;30m 
  Verifying  : libselinux-2.0.94-5.3.el6_4.1.x86_64                        4/25[00;00m[01;30m 
  Verifying  : 1:ruby-shadow-2.2.0-2.el6.x86_64                            5/25[00;00m[01;30m 
  Verifying  : libselinux-utils-2.0.94-5.3.el6_4.1.x86_64                  6/25[00;00m[01;30m 
  Verifying  : ruby-augeas-0.4.1-3.el6.x86_64                              7/25[00;00m[01;30m 
  Verifying  : compat-readline5-5.2-17.1.el6.x86_64                        8/25[00;00m[01;30m 
  Verifying  : ruby-rdoc-1.8.7.352-13.el6.x86_64                           9/25[00;00m[01;30m 
  Verifying  : openssl-1.0.1e-16.el6_5.7.x86_64                           10/25[00;00m[01;30m 
  Verifying  : rubygems-1.3.7-5.el6.noarch                                11/25[00;00m[01;30m 
  Verifying  : ruby-rgen-0.6.5-2.el6.noarch                               12/25[00;00m[01;30m 
  Verifying  : puppet-3.6.0-1.el6.noarch                                  13/25[00;00m[01;30m 
  Verifying  : 1:facter-2.0.1-1.el6.x86_64                                14/25[00;00m[01;30m 
  Verifying  : ruby-irb-1.8.7.352-13.el6.x86_64                           15/25[00;00m[01;30m 
  Verifying  : rubygem-json-1.5.5-1.el6.x86_64                            16/25[00;00m[01;30m 
  Verifying  : augeas-libs-1.0.0-5.el6_5.1.x86_64                         17/25[00;00m[01;30m 
  Verifying  : libselinux-ruby-2.0.94-5.3.el6_4.1.x86_64                  18/25[00;00m[01;30m 
  Verifying  : ruby-1.8.7.352-13.el6.x86_64                               19/25[00;00m[01;30m 
  Verifying  : hiera-1.3.2-1.el6.noarch                                   20/25[00;00m[01;30m 
  Verifying  : libselinux-devel-2.0.94-5.3.el6.x86_64                     21/25[00;00m[01;30m 
  Verifying  : libselinux-2.0.94-5.3.el6.x86_64                           22/25[00;00m[01;30m 
  Verifying  : libselinux-utils-2.0.94-5.3.el6.x86_64                     23/25[00;00m[01;30m 
  Verifying  : openssl-1.0.0-27.el6_4.2.x86_64                            24/25[00;00m[01;30m 
  Verifying  : openssl-devel-1.0.0-27.el6_4.2.x86_64                      25/25[00;00m[01;30m 

Installed:
  puppet.noarch 0:3.6.0-1.el6                                                   

Dependency Installed:
  augeas-libs.x86_64 0:1.0.0-5.el6_5.1                                          
  compat-readline5.x86_64 0:5.2-17.1.el6                                        
  facter.x86_64 1:2.0.1-1.el6                                                   
  hiera.noarch 0:1.3.2-1.el6                                                    
  libselinux-ruby.x86_64 0:2.0.94-5.3.el6_4.1                                   
  ruby.x86_64 0:1.8.7.352-13.el6                                                
  ruby-augeas.x86_64 0:0.4.1-3.el6                                              
  ruby-irb.x86_64 0:1.8.7.352-13.el6                                            
  ruby-libs.x86_64 0:1.8.7.352-13.el6                                           
  ruby-rdoc.x86_64 0:1.8.7.352-13.el6                                           
  ruby-rgen.noarch 0:0.6.5-2.el6                                                
  ruby-shadow.x86_64 1:2.2.0-2.el6                                              
  rubygem-json.x86_64 0:1.5.5-1.el6                                             
  rubygems.noarch 0:1.3.7-5.el6                                                 

Dependency Updated:
  libselinux.x86_64 0:2.0.94-5.3.el6_4.1                                        
  libselinux-devel.x86_64 0:2.0.94-5.3.el6_4.1                                  
  libselinux-utils.x86_64 0:2.0.94-5.3.el6_4.1                                  
  openssl.x86_64 0:1.0.1e-16.el6_5.7                                            
  openssl-devel.x86_64 0:1.0.1e-16.el6_5.7                                      

[00;00m[01;30mComplete!
[00;00m[00;37m
centos-64-x64 executed in 47.34 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo centos-64-x64:/etc/puppet/modules/vcsrepo {}
[00;00m[00;32minstall.rb passed in 53.16 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/basic_auth/basic_auth_checkout_http.rb
[00;00m[01;37m
C3492 - checkout with basic auth (http protocol)
[00;00m[01;37m
HTTP not supported yet for basic auth using git. See FM-1331
[00;00m[00;37mspec/acceptance/beaker/git/basic_auth/basic_auth_checkout_http.rb skipped in 0.00 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/basic_auth/basic_auth_checkout_https.rb
[00;00m[01;37m
C3493 - checkout with basic auth (https protocol)
[00;00m[01;37m
waiting for CA trust solution
[00;00m[00;37mspec/acceptance/beaker/git/basic_auth/basic_auth_checkout_https.rb skipped in 0.00 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/branch_checkout_file.rb
[00;00m[01;37m
C3438 - checkout a branch (file protocol)
[00;00m[00;37m
centos-64-x64 16:41:57$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.w3jmf1
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:41:57$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mResolving Dependencies
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package git.x86_64 0:1.7.1-3.el6_4.1 will be installed
[00;00m[01;30m--> Processing Dependency: perl-Git = 1.7.1-3.el6_4.1 for package: git-1.7.1-3.el6_4.1.x86_64
[00;00m[01;30m--> Processing Dependency: perl(Git) for package: git-1.7.1-3.el6_4.1.x86_64
[00;00m[01;30m--> Processing Dependency: perl(Error) for package: git-1.7.1-3.el6_4.1.x86_64
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package perl-Error.noarch 1:0.17015-4.el6 will be installed
[00;00m[01;30m---> Package perl-Git.noarch 0:1.7.1-3.el6_4.1 will be installed
[00;00m[01;30m--> Finished Dependency Resolution
[00;00m[01;30m
Dependencies Resolved
[00;00m[01;30m
================================================================================
 Package            Arch           Version                   Repository    Size
================================================================================
Installing:
 git                x86_64         1.7.1-3.el6_4.1           base         4.6 M
Installing for dependencies:
 perl-Error         noarch         1:0.17015-4.el6           base          29 k
 perl-Git           noarch         1.7.1-3.el6_4.1           base          28 k

Transaction Summary
================================================================================
Install       3 Package(s)

[00;00m[01;30mTotal download size: 4.7 M
[00;00m[01;30mInstalled size: 15 M
[00;00m[01;30mDownloading Packages:
[00;00m[01;30m--------------------------------------------------------------------------------
[00;00m[01;30mTotal                                           672 kB/s | 4.7 MB     00:07     
[00;00m[01;30mRunning rpm_check_debug
[00;00m[01;30mRunning Transaction Test
[00;00m[01;30mTransaction Test Succeeded
[00;00m[01;30mRunning Transaction
[00;00m[01;30m  Installing : 1:perl-Error-0.17015-4.el6.noarch                            1/3[00;00m[01;30m 
  Installing : perl-Git-1.7.1-3.el6_4.1.noarch                              2/3[00;00m[01;30m 
  Installing : git-1.7.1-3.el6_4.1.x86_64                                   3/3[00;00m[01;30m 
  Verifying  : git-1.7.1-3.el6_4.1.x86_64                                   1/3[00;00m[01;30m 
  Verifying  : perl-Git-1.7.1-3.el6_4.1.noarch                              2/3[00;00m[01;30m 
  Verifying  : 1:perl-Error-0.17015-4.el6.noarch                            3/3[00;00m[01;30m 

Installed:
  git.x86_64 0:1.7.1-3.el6_4.1                                                  

Dependency Installed:
  perl-Error.noarch 1:0.17015-4.el6      perl-Git.noarch 0:1.7.1-3.el6_4.1     

[00;00m[01;30mComplete!
[00;00m[00;37m
centos-64-x64 executed in 8.62 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.w3jmf1 {}
[00;00m[00;37m
centos-64-x64 16:42:06$  cd /tmp/vcsrepo.w3jmf1 && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.w3jmf1/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 2e777bc] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 93dbc53] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 20effc0] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 3b1ab2e] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch cec2afc] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch b70e6c6] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * checkout a branch with puppet
[00;00m[00;37m
centos-64-x64 16:42:06$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.XKb3XO
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-kka3gk centos-64-x64:/tmp/apply_manifest.pp.XKb3XO {}
[00;00m[00;37m
centos-64-x64 16:42:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XKb3XO
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532124'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.w3jmf1/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.w3jmf1/testrepo_branch_checkout]/ensure: created
[00;00m[01;30mInfo: Creating state file /var/lib/puppet/state/state.yaml[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.60 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.51 seconds
[00;00m[00;37m
centos-64-x64 16:42:07$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.uVxIpA
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1p2616j centos-64-x64:/tmp/apply_manifest.pp.uVxIpA {}
[00;00m[00;37m
centos-64-x64 16:42:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.uVxIpA
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532126'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.62 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.45 seconds
[00;00m[01;37m
  * verify checkout is on the a_branch branch
[00;00m[00;37m
centos-64-x64 16:42:09$  ls /tmp/vcsrepo.w3jmf1/testrepo_branch_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:09$  cat /tmp/vcsrepo.w3jmf1/testrepo_branch_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/a_branch
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:09$  rm -fr /tmp/vcsrepo.w3jmf1  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/branch_checkout/branch_checkout_file.rb passed in 11.72 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/branch_checkout_file_path.rb
[00;00m[01;37m
C3437 - checkout a branch (file path)
[00;00m[00;37m
centos-64-x64 16:42:09$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.WzIpuw
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:42:09$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.WzIpuw {}
[00;00m[00;37m
centos-64-x64 16:42:09$  cd /tmp/vcsrepo.WzIpuw && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.WzIpuw/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 8ab10cb] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master d92f01c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 08aa784] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch f13ec65] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 570d6d3] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch ff73ded] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * checkout a branch with puppet
[00;00m[00;37m
centos-64-x64 16:42:09$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.X4AubN
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-10nu3w centos-64-x64:/tmp/apply_manifest.pp.X4AubN {}
[00;00m[00;37m
centos-64-x64 16:42:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.X4AubN
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532128'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.WzIpuw/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.WzIpuw/testrepo_branch_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.58 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.44 seconds
[00;00m[00;37m
centos-64-x64 16:42:10$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.KFM90p
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ol01mn centos-64-x64:/tmp/apply_manifest.pp.KFM90p {}
[00;00m[00;37m
centos-64-x64 16:42:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KFM90p
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532129'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.56 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.40 seconds
[00;00m[01;37m
  * verify checkout is on the a_branch branch
[00;00m[00;37m
centos-64-x64 16:42:12$  ls /tmp/vcsrepo.WzIpuw/testrepo_branch_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:12$  cat /tmp/vcsrepo.WzIpuw/testrepo_branch_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/a_branch
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:12$  rm -fr /tmp/vcsrepo.WzIpuw  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/branch_checkout/branch_checkout_file_path.rb passed in 3.25 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/branch_checkout_git.rb
[00;00m[01;37m
C3436 - checkout a branch (git protocol)
[00;00m[00;37m
centos-64-x64 16:42:12$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.YYuCwX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:42:12$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.25 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.YYuCwX {}
[00;00m[00;37m
centos-64-x64 16:42:12$  cd /tmp/vcsrepo.YYuCwX && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.YYuCwX/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 3737489] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master ba9a899] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 233f710] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch ed884e3] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6357180] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a5d8355] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:42:12$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mResolving Dependencies
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package git-daemon.x86_64 0:1.7.1-3.el6_4.1 will be installed
[00;00m[01;30m--> Processing Dependency: xinetd for package: git-daemon-1.7.1-3.el6_4.1.x86_64
[00;00m[01;30m--> Running transaction check
[00;00m[01;30m---> Package xinetd.x86_64 2:2.3.14-39.el6_4 will be installed
[00;00m[01;30m--> Finished Dependency Resolution
[00;00m[01;30m
Dependencies Resolved
[00;00m[01;30m
================================================================================
 Package            Arch           Version                   Repository    Size
================================================================================
Installing:
 git-daemon         x86_64         1.7.1-3.el6_4.1           base         248 k
Installing for dependencies:
 xinetd             x86_64         2:2.3.14-39.el6_4         base         121 k

Transaction Summary
================================================================================
Install       2 Package(s)

[00;00m[01;30mTotal download size: 369 k
[00;00m[01;30mInstalled size: 754 k
[00;00m[01;30mDownloading Packages:
[00;00m[01;30m--------------------------------------------------------------------------------
[00;00m[01;30mTotal                                            68 kB/s | 369 kB     00:05     
[00;00m[01;30mRunning rpm_check_debug
[00;00m[01;30mRunning Transaction Test
[00;00m[01;30mTransaction Test Succeeded
[00;00m[01;30mRunning Transaction
[00;00m[01;30m  Installing : 2:xinetd-2.3.14-39.el6_4.x86_64                              1/2[00;00m[01;30m 
  Installing : git-daemon-1.7.1-3.el6_4.1.x86_64                            2/2[00;00m[01;30m 
  Verifying  : git-daemon-1.7.1-3.el6_4.1.x86_64                            1/2[00;00m[01;30m 
  Verifying  : 2:xinetd-2.3.14-39.el6_4.x86_64                              2/2[00;00m[01;30m 

Installed:
  git-daemon.x86_64 0:1.7.1-3.el6_4.1                                           

Dependency Installed:
  xinetd.x86_64 2:2.3.14-39.el6_4                                               

[00;00m[01;30mComplete!
[00;00m[00;37m
centos-64-x64 executed in 6.25 seconds
[00;00m[00;37m
centos-64-x64 16:42:18$  git daemon --base-path=/tmp/vcsrepo.YYuCwX  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a branch with puppet
[00;00m[00;37m
centos-64-x64 16:42:18$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.gImyba
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1pgryd0 centos-64-x64:/tmp/apply_manifest.pp.gImyba {}
[00;00m[00;37m
centos-64-x64 16:42:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gImyba
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532137'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.YYuCwX/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.YYuCwX/testrepo_branch_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.67 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.55 seconds
[00;00m[00;37m
centos-64-x64 16:42:20$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.GkLQ70
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ok2idv centos-64-x64:/tmp/apply_manifest.pp.GkLQ70 {}
[00;00m[00;37m
centos-64-x64 16:42:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.GkLQ70
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532139'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.52 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.33 seconds
[00;00m[01;37m
  * verify checkout is on the a_branch branch
[00;00m[00;37m
centos-64-x64 16:42:21$  ls /tmp/vcsrepo.YYuCwX/testrepo_branch_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:21$  cat /tmp/vcsrepo.YYuCwX/testrepo_branch_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/a_branch
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:21$  rm -fr /tmp/vcsrepo.YYuCwX  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:21$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/branch_checkout/branch_checkout_git.rb passed in 9.53 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/branch_checkout_http.rb
[00;00m[01;37m
C3441 - checkout a branch (http protocol)
[00;00m[00;37m
centos-64-x64 16:42:21$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.LXjbaX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:42:21$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.LXjbaX {}
[00;00m[00;37m
centos-64-x64 16:42:22$  cd /tmp/vcsrepo.LXjbaX && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.LXjbaX/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) e5e5846] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master edc11c7] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 5da37bd] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch ea2fc84] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 9c5d331] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch eae6cc8] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start http server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1700nxx centos-64-x64:/tmp/http_daemon.rb {}
[00;00m[00;37m
centos-64-x64 16:42:22$  ruby /tmp/http_daemon.rb  
[00;00m[01;30m[2014-05-19 20:42:20] INFO  WEBrick 1.3.1
[00;00m[01;30m[2014-05-19 20:42:20] INFO  ruby 1.8.7 (2011-06-30) [x86_64-linux]
[00;00m[01;30m[2014-05-19 20:42:20] WARN  TCPServer Error: Address already in use - bind(2)
[00;00m[00;37m
centos-64-x64 executed in 0.10 seconds
[00;00m[01;37m
  * checkout a branch with puppet
[00;00m[00;37m
centos-64-x64 16:42:22$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.4EDI8P
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1pvtokz centos-64-x64:/tmp/apply_manifest.pp.4EDI8P {}
[00;00m[00;37m
centos-64-x64 16:42:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4EDI8P
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532140'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.LXjbaX/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.LXjbaX/testrepo_branch_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.92 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.75 seconds
[00;00m[00;37m
centos-64-x64 16:42:24$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.uZCoao
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-muiw49 centos-64-x64:/tmp/apply_manifest.pp.uZCoao {}
[00;00m[00;37m
centos-64-x64 16:42:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.uZCoao
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532142'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.80 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.63 seconds
[00;00m[01;37m
  * verify checkout is on the a_branch branch
[00;00m[00;37m
centos-64-x64 16:42:25$  ls /tmp/vcsrepo.LXjbaX/testrepo_branch_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:25$  cat /tmp/vcsrepo.LXjbaX/testrepo_branch_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/a_branch
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:25$  rm -fr /tmp/vcsrepo.LXjbaX  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:25$  ps ax | grep 'ruby /tmp/http_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.02 seconds
[00;00m[00;32mspec/acceptance/beaker/git/branch_checkout/branch_checkout_http.rb passed in 3.90 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/branch_checkout_https.rb
[00;00m[01;37m
C3442 - checkout a branch (https protocol)
[00;00m[00;37m
centos-64-x64 16:42:25$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.DRy4AQ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:42:25$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.DRy4AQ {}
[00;00m[00;37m
centos-64-x64 16:42:26$  cd /tmp/vcsrepo.DRy4AQ && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.DRy4AQ/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 729b668] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master cde6506] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master db534be] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 4b0cbef] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch fdcf9e2] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch d7971d7] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start https server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-6zuqjy centos-64-x64:/tmp/https_daemon.rb {}
[00;00m[01;37m
  * checkout a branch with puppet
[00;00m[00;37m
centos-64-x64 16:42:26$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.J1cdoU
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-16kjjmg centos-64-x64:/tmp/apply_manifest.pp.J1cdoU {}
[00;00m[00;37m
centos-64-x64 16:42:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.J1cdoU
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532144'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.DRy4AQ/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.DRy4AQ/testrepo_branch_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 11.46 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.33 seconds
[00;00m[00;37m
centos-64-x64 16:42:38$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.dd5gsW
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1miqfyl centos-64-x64:/tmp/apply_manifest.pp.dd5gsW {}
[00;00m[00;37m
centos-64-x64 16:42:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.dd5gsW
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532157'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 11.41 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.24 seconds
[00;00m[01;37m
  * verify checkout is on the a_branch branch
[00;00m[00;37m
centos-64-x64 16:42:50$  ls /tmp/vcsrepo.DRy4AQ/testrepo_branch_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:50$  cat /tmp/vcsrepo.DRy4AQ/testrepo_branch_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/a_branch
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:50$  rm -fr /tmp/vcsrepo.DRy4AQ  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:50$  ps ax | grep 'ruby /tmp/https_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/branch_checkout/branch_checkout_https.rb passed in 24.97 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/branch_checkout_scp.rb
[00;00m[01;37m
C3439 - checkout a branch (ssh protocol, scp syntax)
[00;00m[00;37m
centos-64-x64 16:42:50$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.K9Slvi
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:42:50$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.K9Slvi {}
[00;00m[00;37m
centos-64-x64 16:42:51$  cd /tmp/vcsrepo.K9Slvi && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.K9Slvi/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) b45fc78] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 2fb5719] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master ec80136] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 61044b8] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6413dcb] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 418ca34] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:42:51$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.10 seconds
[00;00m[00;37m
centos-64-x64 16:42:51$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:51$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a branch with puppet
[00;00m[00;37m
centos-64-x64 16:42:51$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.IG8SNG
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-v6c8hq centos-64-x64:/tmp/apply_manifest.pp.IG8SNG {}
[00;00m[00;37m
centos-64-x64 16:42:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IG8SNG
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532169'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.K9Slvi/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.K9Slvi/testrepo.git /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/
Warning: Permanently added 'centos-64-x64,10.255.188.220' (RSA) to the list of known hosts.
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.K9Slvi/testrepo_branch_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.K9Slvi/testrepo.git /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/
Warning: Permanently added 'centos-64-x64,10.255.188.220' (RSA) to the list of known hosts.
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.28 seconds
[00;00m[00;37m
centos-64-x64 16:42:52$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.IHDfQw
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1pnlymk centos-64-x64:/tmp/apply_manifest.pp.IHDfQw {}
[00;00m[00;37m
centos-64-x64 16:42:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IHDfQw
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532171'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.K9Slvi/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.K9Slvi/testrepo.git /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.K9Slvi/testrepo_branch_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.K9Slvi/testrepo.git /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.36 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.21 seconds
[00;00m[01;37m
  * verify checkout is on the a_branch branch
[00;00m[00;37m
centos-64-x64 16:42:53$  ls /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/  
[00;00m[01;30mls: [00;00m[01;30mcannot access /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_scp.rb:45
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_scp.rb:44
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_scp.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_scp.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:42:53$  rm -fr /tmp/vcsrepo.K9Slvi  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:53$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.5Yx1gD
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1l1zxo4 centos-64-x64:/tmp/apply_manifest.pp.5Yx1gD {}
[00;00m[00;37m
centos-64-x64 16:42:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5Yx1gD
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532172'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 1a1a45c3f1319a5b776920683a2d1877[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.83 seconds
[00;00m[00;37m
centos-64-x64 16:42:54$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.BIr3K7
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ytt7jl centos-64-x64:/tmp/apply_manifest.pp.BIr3K7 {}
[00;00m[00;37m
centos-64-x64 16:42:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BIr3K7
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532173'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 9a5d99caabedcdd36e23d39a4e565fed[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.86 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/branch_checkout/branch_checkout_scp.rb errored in 4.74 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/branch_checkout_ssh.rb
[00;00m[01;37m
C3440 - checkout a branch (ssh protocol)
[00;00m[00;37m
centos-64-x64 16:42:55$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.c9eL8X
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:42:55$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.c9eL8X {}
[00;00m[00;37m
centos-64-x64 16:42:55$  cd /tmp/vcsrepo.c9eL8X && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.c9eL8X/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 0d0ebf0] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master ba8e86c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 010c04a] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch f5776c7] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 591c072] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 327a9b2] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:42:55$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.07 seconds
[00;00m[00;37m
centos-64-x64 16:42:55$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:55$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a branch with puppet
[00;00m[00;37m
centos-64-x64 16:42:55$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.T2dbVH
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-r8rqip centos-64-x64:/tmp/apply_manifest.pp.T2dbVH {}
[00;00m[00;37m
centos-64-x64 16:42:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.T2dbVH
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532174'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.c9eL8X/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.c9eL8X/testrepo.git /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.c9eL8X/testrepo_branch_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.c9eL8X/testrepo.git /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.26 seconds
[00;00m[00;37m
centos-64-x64 16:42:57$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.JRkN5E
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1xnbznk centos-64-x64:/tmp/apply_manifest.pp.JRkN5E {}
[00;00m[00;37m
centos-64-x64 16:42:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JRkN5E
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532175'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.c9eL8X/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.c9eL8X/testrepo.git /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.c9eL8X/testrepo_branch_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.c9eL8X/testrepo.git /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.26 seconds
[00;00m[01;37m
  * verify checkout is on the a_branch branch
[00;00m[00;37m
centos-64-x64 16:42:58$  ls /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_ssh.rb:45
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_ssh.rb:44
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_ssh.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/branch_checkout/branch_checkout_ssh.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:42:58$  rm -fr /tmp/vcsrepo.c9eL8X  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:42:58$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.69WQVz
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-11hxw3d centos-64-x64:/tmp/apply_manifest.pp.69WQVz {}
[00;00m[00;37m
centos-64-x64 16:42:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.69WQVz
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.08 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532177'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 17107813969ffbc4496df0a35faf0cd4[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.86 seconds
[00;00m[00;37m
centos-64-x64 16:42:59$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.R8GZi4
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-umrowf centos-64-x64:/tmp/apply_manifest.pp.R8GZi4 {}
[00;00m[00;37m
centos-64-x64 16:42:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.R8GZi4
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.08 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532178'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 5c3025347287514f7b966fc1c2a6e70c[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.81 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/branch_checkout/branch_checkout_ssh.rb errored in 4.70 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_file.rb
[00;00m[01;37m
C3427 - clone (file protocol)
[00;00m[00;37m
centos-64-x64 16:43:00$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.cj4fwy
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:00$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.25 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.cj4fwy {}
[00;00m[00;37m
centos-64-x64 16:43:00$  cd /tmp/vcsrepo.cj4fwy && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.cj4fwy/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 74ede40] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 9a8775c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master a3fd90f] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 4704b6f] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 0937691] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 14a26f7] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * clone with puppet
[00;00m[00;37m
centos-64-x64 16:43:00$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.mDKpCP
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-3fmwl9 centos-64-x64:/tmp/apply_manifest.pp.mDKpCP {}
[00;00m[00;37m
centos-64-x64 16:43:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mDKpCP
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532179'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.cj4fwy/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.cj4fwy/testrepo_clone]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.43 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.32 seconds
[00;00m[00;37m
centos-64-x64 16:43:01$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.tYa9LE
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1t9mdw3 centos-64-x64:/tmp/apply_manifest.pp.tYa9LE {}
[00;00m[00;37m
centos-64-x64 16:43:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.tYa9LE
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532180'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.13 seconds
[00;00m[01;37m
  * verify checkout is on the master branch
[00;00m[00;37m
centos-64-x64 16:43:02$  ls /tmp/vcsrepo.cj4fwy/testrepo_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:02$  cat /tmp/vcsrepo.cj4fwy/testrepo_clone/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:03$  rm -fr /tmp/vcsrepo.cj4fwy  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_file.rb passed in 2.83 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_file_path.rb
[00;00m[01;37m
C3426 - clone (file path)
[00;00m[00;37m
centos-64-x64 16:43:03$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.yfWGWl
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:03$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.yfWGWl {}
[00;00m[00;37m
centos-64-x64 16:43:03$  cd /tmp/vcsrepo.yfWGWl && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.yfWGWl/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) b9b5e42] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master bb2e222] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 690d3cd] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 7628060] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 63737d6] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 264c289] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * clone with puppet
[00;00m[00;37m
centos-64-x64 16:43:03$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.igH4fE
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-k7aa7b centos-64-x64:/tmp/apply_manifest.pp.igH4fE {}
[00;00m[00;37m
centos-64-x64 16:43:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.igH4fE
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532182'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.yfWGWl/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.yfWGWl/testrepo_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.34 seconds
[00;00m[00;37m
centos-64-x64 16:43:04$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Z759hs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1s9fzk8 centos-64-x64:/tmp/apply_manifest.pp.Z759hs {}
[00;00m[00;37m
centos-64-x64 16:43:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Z759hs
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532183'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.25 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.16 seconds
[00;00m[01;37m
  * verify checkout is on the master branch
[00;00m[00;37m
centos-64-x64 16:43:05$  ls /tmp/vcsrepo.yfWGWl/testrepo_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:05$  cat /tmp/vcsrepo.yfWGWl/testrepo_clone/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:05$  rm -fr /tmp/vcsrepo.yfWGWl  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_file_path.rb passed in 2.93 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_git.rb
[00;00m[01;37m
C3425 - clone (git protocol)
[00;00m[00;37m
centos-64-x64 16:43:05$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.THZscR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:05$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.30 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.THZscR {}
[00;00m[00;37m
centos-64-x64 16:43:06$  cd /tmp/vcsrepo.THZscR && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.THZscR/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 50708ed] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master bae338b] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 4e863bf] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch ebd9f9e] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 72a63eb] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 3398a0e] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:43:06$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-daemon-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.31 seconds
[00;00m[00;37m
centos-64-x64 16:43:06$  git daemon --base-path=/tmp/vcsrepo.THZscR  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * clone with puppet
[00;00m[00;37m
centos-64-x64 16:43:06$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ntqiKE
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-803fye centos-64-x64:/tmp/apply_manifest.pp.ntqiKE {}
[00;00m[00;37m
centos-64-x64 16:43:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ntqiKE
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532185'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.THZscR/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.THZscR/testrepo_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.48 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.41 seconds
[00;00m[00;37m
centos-64-x64 16:43:08$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.1k0c8D
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ip4lx7 centos-64-x64:/tmp/apply_manifest.pp.1k0c8D {}
[00;00m[00;37m
centos-64-x64 16:43:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.1k0c8D
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532186'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.27 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.25 seconds
[00;00m[01;37m
  * verify checkout is on the master branch
[00;00m[00;37m
centos-64-x64 16:43:09$  ls /tmp/vcsrepo.THZscR/testrepo_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:09$  cat /tmp/vcsrepo.THZscR/testrepo_clone/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:09$  rm -fr /tmp/vcsrepo.THZscR  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:09$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_git.rb passed in 3.42 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_http.rb
[00;00m[01;37m
C3430 - clone (http protocol)
[00;00m[00;37m
centos-64-x64 16:43:09$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.zAyX3E
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:09$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.zAyX3E {}
[00;00m[00;37m
centos-64-x64 16:43:09$  cd /tmp/vcsrepo.zAyX3E && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.zAyX3E/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 6229fa2] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 07dd59c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 6aa2524] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 99ae57b] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch d4ce05d] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 2431c87] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start http server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-n0fitb centos-64-x64:/tmp/http_daemon.rb {}
[00;00m[00;37m
centos-64-x64 16:43:09$  ruby /tmp/http_daemon.rb  
[00;00m[01;30m[2014-05-19 20:43:07] INFO  WEBrick 1.3.1
[00;00m[01;30m[2014-05-19 20:43:07] INFO  ruby 1.8.7 (2011-06-30) [x86_64-linux]
[00;00m[01;30m[2014-05-19 20:43:07] WARN  TCPServer Error: Address already in use - bind(2)
[00;00m[00;37m
centos-64-x64 executed in 0.10 seconds
[00;00m[01;37m
  * clone with puppet
[00;00m[00;37m
centos-64-x64 16:43:09$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.WWrz4S
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1rvkz6s centos-64-x64:/tmp/apply_manifest.pp.WWrz4S {}
[00;00m[00;37m
centos-64-x64 16:43:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.WWrz4S
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532188'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.zAyX3E/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.zAyX3E/testrepo_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.72 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.52 seconds
[00;00m[00;37m
centos-64-x64 16:43:11$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.tMVf8W
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-rjkzti centos-64-x64:/tmp/apply_manifest.pp.tMVf8W {}
[00;00m[00;37m
centos-64-x64 16:43:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.tMVf8W
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532190'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.07 seconds
[00;00m[01;37m
  * verify checkout is on the master branch
[00;00m[00;37m
centos-64-x64 16:43:12$  ls /tmp/vcsrepo.zAyX3E/testrepo_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:12$  cat /tmp/vcsrepo.zAyX3E/testrepo_clone/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:12$  rm -fr /tmp/vcsrepo.zAyX3E  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:12$  ps ax | grep 'ruby /tmp/http_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.02 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_http.rb passed in 3.12 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_https.rb
[00;00m[01;37m
C3431 - clone (https protocol)
[00;00m[00;37m
centos-64-x64 16:43:12$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.gjtqA0
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:12$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.gjtqA0 {}
[00;00m[00;37m
centos-64-x64 16:43:12$  cd /tmp/vcsrepo.gjtqA0 && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.gjtqA0/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) c02e6ca] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master f141778] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 73c5c50] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch c59ca30] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 2b347ee] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch e66a7a6] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * setup - start https server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-14uof2p centos-64-x64:/tmp/https_daemon.rb {}
[00;00m[01;37m
  * clone with puppet
[00;00m[00;37m
centos-64-x64 16:43:12$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.B5qz91
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-17eeag8 centos-64-x64:/tmp/apply_manifest.pp.B5qz91 {}
[00;00m[00;37m
centos-64-x64 16:43:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.B5qz91
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532191'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.gjtqA0/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.gjtqA0/testrepo_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 11.20 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.12 seconds
[00;00m[00;37m
centos-64-x64 16:43:25$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.J4pAA0
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1cazol0 centos-64-x64:/tmp/apply_manifest.pp.J4pAA0 {}
[00;00m[00;37m
centos-64-x64 16:43:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.J4pAA0
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532203'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify checkout is on the master branch
[00;00m[00;37m
centos-64-x64 16:43:26$  ls /tmp/vcsrepo.gjtqA0/testrepo_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:26$  cat /tmp/vcsrepo.gjtqA0/testrepo_clone/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:26$  rm -fr /tmp/vcsrepo.gjtqA0  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:26$  ps ax | grep 'ruby /tmp/https_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_https.rb passed in 13.64 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_over_different_exiting_repo_with_force.rb
[00;00m[01;37m
C3511 - clone over an existing repo with force
[00;00m[00;37m
centos-64-x64 16:43:26$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.jPZDyC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:26$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.jPZDyC {}
[00;00m[00;37m
centos-64-x64 16:43:26$  cd /tmp/vcsrepo.jPZDyC && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.jPZDyC/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 31f222d] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 2e999b4] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 268c0c6] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 4d00435] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 4bad015] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch d334662] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[00;37m
centos-64-x64 16:43:26$  mkdir /tmp/vcsrepo.jPZDyC/testrepo_already_exists  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:26$  cd /tmp/vcsrepo.jPZDyC/testrepo_already_exists && git init  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.jPZDyC/testrepo_already_exists/.git/
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:26$  cd /tmp/vcsrepo.jPZDyC/testrepo_already_exists && touch a && git add a && git commit -m 'a'  
[00;00m[01;30m[master (root-commit) 61ce05b] a
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 0 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 a
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * clone over existing repo with force using puppet
[00;00m[00;37m
centos-64-x64 16:43:26$  cd /tmp/vcsrepo.jPZDyC/testrepo_already_exists && git log --pretty=format:"%h"  
[00;00m[01;30m61ce05b[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:26$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.yZg2VE
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1hjju64 centos-64-x64:/tmp/apply_manifest.pp.yZg2VE {}
[00;00m[00;37m
centos-64-x64 16:43:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yZg2VE
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532205'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.jPZDyC/testrepo_already_exists]/ensure: Deleting current repository before recloning[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.jPZDyC/testrepo_already_exists]/ensure: Create repository from latest[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.41 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.25 seconds
[00;00m[01;37m
  * verify new repo has replaced old one
[00;00m[00;37m
centos-64-x64 16:43:27$  cd /tmp/vcsrepo.jPZDyC/testrepo_already_exists && git log --pretty=format:"%h"  
[00;00m[01;30m268c0c6[00;00m[01;30m
2e999b4[00;00m[01;30m
31f222d[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:27$  rm -fr /tmp/vcsrepo.jPZDyC  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_over_different_exiting_repo_with_force.rb passed in 1.64 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_repo_with_excludes_in_repo.rb
[00;00m[01;37m
C3507 - clone repo with excludes in repo
[00;00m[00;37m
centos-64-x64 16:43:27$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.j6yUzU
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:27$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.j6yUzU {}
[00;00m[00;37m
centos-64-x64 16:43:28$  cd /tmp/vcsrepo.j6yUzU && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.j6yUzU/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 7bb53dc] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 6129527] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master dbacf20] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 19c5e7b] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch fcbf1dc] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch dfad941] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * clone repo with excludes in repo with puppet
[00;00m[00;37m
centos-64-x64 16:43:28$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.hcVhC4
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-15g2ves centos-64-x64:/tmp/apply_manifest.pp.hcVhC4 {}
[00;00m[00;37m
centos-64-x64 16:43:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hcVhC4
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532206'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.j6yUzU/testrepo_with_excludes_in_repo]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.j6yUzU/testrepo_with_excludes_in_repo]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.19 seconds
[00;00m[00;37m
centos-64-x64 16:43:29$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.I5pihp
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1j05ixt centos-64-x64:/tmp/apply_manifest.pp.I5pihp {}
[00;00m[00;37m
centos-64-x64 16:43:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.I5pihp
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532207'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify exludes are known to git
[00;00m[00;37m
centos-64-x64 16:43:30$  cat /tmp/vcsrepo.j6yUzU/testrepo_with_excludes_in_repo/.git/info/exclude  
[00;00m[01;30mfile1.txt
file2.txt
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:30$  rm -fr /tmp/vcsrepo.j6yUzU  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_repo_with_excludes_in_repo.rb passed in 2.62 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_repo_with_excludes_not_in_repo.rb
[00;00m[01;37m
C3508 - clone repo with excludes not in repo
[00;00m[00;37m
centos-64-x64 16:43:30$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.0TSW8w
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:30$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.0TSW8w {}
[00;00m[00;37m
centos-64-x64 16:43:30$  cd /tmp/vcsrepo.0TSW8w && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.0TSW8w/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) e94da2c] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master ba8178d] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 102562a] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 98eb0ce] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 386da94] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a0d54e7] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * clone repo with excludes not in repo with puppet
[00;00m[00;37m
centos-64-x64 16:43:30$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.JQUqj9
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-urpxw2 centos-64-x64:/tmp/apply_manifest.pp.JQUqj9 {}
[00;00m[00;37m
centos-64-x64 16:43:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JQUqj9
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532209'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0TSW8w/testrepo_with_excludes_not_in_repo]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0TSW8w/testrepo_with_excludes_not_in_repo]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.37 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.18 seconds
[00;00m[00;37m
centos-64-x64 16:43:31$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.aZ7aN9
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1sufs5x centos-64-x64:/tmp/apply_manifest.pp.aZ7aN9 {}
[00;00m[00;37m
centos-64-x64 16:43:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.aZ7aN9
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532210'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.21 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.02 seconds
[00;00m[01;37m
  * verify exludes are known to git
[00;00m[00;37m
centos-64-x64 16:43:32$  cat /tmp/vcsrepo.0TSW8w/testrepo_with_excludes_not_in_repo/.git/info/exclude  
[00;00m[01;30mworh02o
ho398b
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:32$  rm -fr /tmp/vcsrepo.0TSW8w  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/clone_repo_with_excludes_not_in_repo.rb passed in 2.57 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_scp.rb
[00;00m[01;37m
C3428 - clone (ssh protocol, scp syntax)
[00;00m[00;37m
centos-64-x64 16:43:32$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.HzDNai
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:32$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.HzDNai {}
[00;00m[00;37m
centos-64-x64 16:43:33$  cd /tmp/vcsrepo.HzDNai && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.HzDNai/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) ee9a2c4] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master e22f66d] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 752058f] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch aea8489] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 3ad9fce] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 4e8bc14] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:43:33$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[00;37m
centos-64-x64 16:43:33$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:33$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * clone with puppet
[00;00m[00;37m
centos-64-x64 16:43:33$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.K4tDNK
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-3fj4zc centos-64-x64:/tmp/apply_manifest.pp.K4tDNK {}
[00;00m[00;37m
centos-64-x64 16:43:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.K4tDNK
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532212'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.HzDNai/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.HzDNai/testrepo.git /tmp/vcsrepo.HzDNai/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.HzDNai/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.HzDNai/testrepo_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.HzDNai/testrepo.git /tmp/vcsrepo.HzDNai/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.HzDNai/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.33 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.14 seconds
[00;00m[00;37m
centos-64-x64 16:43:34$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.JpH0wC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1mcis2y centos-64-x64:/tmp/apply_manifest.pp.JpH0wC {}
[00;00m[00;37m
centos-64-x64 16:43:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JpH0wC
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532213'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.HzDNai/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.HzDNai/testrepo.git /tmp/vcsrepo.HzDNai/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.HzDNai/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.HzDNai/testrepo_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.HzDNai/testrepo.git /tmp/vcsrepo.HzDNai/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.HzDNai/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.16 seconds
[00;00m[01;37m
  * verify checkout is on the master branch
[00;00m[00;37m
centos-64-x64 16:43:35$  ls /tmp/vcsrepo.HzDNai/testrepo_clone/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.HzDNai/testrepo_clone/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.HzDNai/testrepo_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.HzDNai/testrepo_clone/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_scp.rb:43
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_scp.rb:42
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_scp.rb:6
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_scp.rb:6
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:43:35$  rm -fr /tmp/vcsrepo.HzDNai  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:35$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Rw3XF2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ngjol4 centos-64-x64:/tmp/apply_manifest.pp.Rw3XF2 {}
[00;00m[00;37m
centos-64-x64 16:43:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Rw3XF2
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532214'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 785887e1672dc34d2ba6fc53a22c0d31[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.80 seconds
[00;00m[00;37m
centos-64-x64 16:43:36$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.trL6aK
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ucc1g9 centos-64-x64:/tmp/apply_manifest.pp.trL6aK {}
[00;00m[00;37m
centos-64-x64 16:43:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.trL6aK
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532215'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 0f5eb7a615bf35a4ccc5fe5ea9c24829[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.02 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.79 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/clone/clone_scp.rb errored in 4.35 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/clone_ssh.rb
[00;00m[01;37m
C3429 - clone (ssh protocol)
[00;00m[00;37m
centos-64-x64 16:43:37$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.XEuagR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:37$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.XEuagR {}
[00;00m[00;37m
centos-64-x64 16:43:37$  cd /tmp/vcsrepo.XEuagR && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.XEuagR/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 826a796] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 31a8907] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 9221cc9] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch ca962c1] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch ca2ea3c] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 74a216f] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:43:37$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.09 seconds
[00;00m[00;37m
centos-64-x64 16:43:37$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:37$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * clone with puppet
[00;00m[00;37m
centos-64-x64 16:43:37$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.I07oEb
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1hhxw35 centos-64-x64:/tmp/apply_manifest.pp.I07oEb {}
[00;00m[00;37m
centos-64-x64 16:43:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.I07oEb
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532216'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.XEuagR/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.XEuagR/testrepo.git /tmp/vcsrepo.XEuagR/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.XEuagR/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.XEuagR/testrepo_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.XEuagR/testrepo.git /tmp/vcsrepo.XEuagR/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.XEuagR/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.33 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.16 seconds
[00;00m[00;37m
centos-64-x64 16:43:38$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.XcG1ja
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-yn07or centos-64-x64:/tmp/apply_manifest.pp.XcG1ja {}
[00;00m[00;37m
centos-64-x64 16:43:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.XcG1ja
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532217'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.XEuagR/testrepo_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.XEuagR/testrepo.git /tmp/vcsrepo.XEuagR/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.XEuagR/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.XEuagR/testrepo_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.XEuagR/testrepo.git /tmp/vcsrepo.XEuagR/testrepo_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.XEuagR/testrepo_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.18 seconds
[00;00m[01;37m
  * verify checkout is on the master branch
[00;00m[00;37m
centos-64-x64 16:43:40$  ls /tmp/vcsrepo.XEuagR/testrepo_clone/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.XEuagR/testrepo_clone/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.XEuagR/testrepo_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.XEuagR/testrepo_clone/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_ssh.rb:43
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_ssh.rb:42
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_ssh.rb:6
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/clone/clone_ssh.rb:6
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:43:40$  rm -fr /tmp/vcsrepo.XEuagR  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:40$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.0MtK5u
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1c4dnoe centos-64-x64:/tmp/apply_manifest.pp.0MtK5u {}
[00;00m[00;37m
centos-64-x64 16:43:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0MtK5u
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532218'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum b85bbb4ef5a9e281fdc2101816e84153[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.80 seconds
[00;00m[00;37m
centos-64-x64 16:43:40$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.c09hMI
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1voaf6h centos-64-x64:/tmp/apply_manifest.pp.c09hMI {}
[00;00m[00;37m
centos-64-x64 16:43:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.c09hMI
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.08 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532219'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 0f3a3b4419b334040abf720d4c58d196[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.86 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/clone/clone_ssh.rb errored in 4.51 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/compression_0_checkout.rb
[00;00m[01;37m
C3495 - checkout with compression 0
[00;00m[00;37m
centos-64-x64 16:43:41$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.khDtVI
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:41$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.khDtVI {}
[00;00m[00;37m
centos-64-x64 16:43:42$  cd /tmp/vcsrepo.khDtVI && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.khDtVI/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 6a564fe] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 64443ab] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 4565a3c] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch fa2fdf1] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 97a26f5] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 48537be] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * checkout with compression 0 with puppet
[00;00m[00;37m
centos-64-x64 16:43:42$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.BfZpdP
[00;00m[00;37m
centos-64-x64 executed in 0.03 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1e6b03k centos-64-x64:/tmp/apply_manifest.pp.BfZpdP {}
[00;00m[00;37m
centos-64-x64 16:43:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BfZpdP
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532220'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.khDtVI/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.khDtVI/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.24 seconds
[00;00m[00;37m
centos-64-x64 16:43:43$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.nwT70E
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-jqhx58 centos-64-x64:/tmp/apply_manifest.pp.nwT70E {}
[00;00m[00;37m
centos-64-x64 16:43:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nwT70E
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532222'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:43:44$  ls /tmp/vcsrepo.khDtVI/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:44$  rm -fr /tmp/vcsrepo.khDtVI  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/compression_0_checkout.rb passed in 2.73 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/compression_1_checkout.rb
[00;00m[01;37m
C3496 - checkout with compression 1
[00;00m[00;37m
centos-64-x64 16:43:44$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.fpj8hH
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:44$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.fpj8hH {}
[00;00m[00;37m
centos-64-x64 16:43:44$  cd /tmp/vcsrepo.fpj8hH && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.fpj8hH/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 46ca09c] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master c48721c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 6ca86d2] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch f798f73] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6c28252] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 049460b] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * checkout with compression 1 with puppet
[00;00m[00;37m
centos-64-x64 16:43:44$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.4L1ODq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-dzbucf centos-64-x64:/tmp/apply_manifest.pp.4L1ODq {}
[00;00m[00;37m
centos-64-x64 16:43:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4L1ODq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532223'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.fpj8hH/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.fpj8hH/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.28 seconds
[00;00m[00;37m
centos-64-x64 16:43:46$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.JBPKMf
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-aeuvfe centos-64-x64:/tmp/apply_manifest.pp.JBPKMf {}
[00;00m[00;37m
centos-64-x64 16:43:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JBPKMf
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532224'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.08 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:43:47$  ls /tmp/vcsrepo.fpj8hH/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:47$  rm -fr /tmp/vcsrepo.fpj8hH  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/compression_1_checkout.rb passed in 2.76 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/compression_2_checkout.rb
[00;00m[01;37m
C3497 - checkout with compression 2
[00;00m[00;37m
centos-64-x64 16:43:47$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.flrRcW
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:47$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.flrRcW {}
[00;00m[00;37m
centos-64-x64 16:43:47$  cd /tmp/vcsrepo.flrRcW && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.flrRcW/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 3e8c0ac] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master a7d8189] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 9cb4fc9] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch ff6bf40] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch f9f5bc7] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch d2e2616] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * checkout with compression 2 with puppet
[00;00m[00;37m
centos-64-x64 16:43:47$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.nMB3G7
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-5hys80 centos-64-x64:/tmp/apply_manifest.pp.nMB3G7 {}
[00;00m[00;37m
centos-64-x64 16:43:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nMB3G7
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532226'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.flrRcW/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.flrRcW/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.25 seconds
[00;00m[00;37m
centos-64-x64 16:43:48$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.17nuFq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-100uvkc centos-64-x64:/tmp/apply_manifest.pp.17nuFq {}
[00;00m[00;37m
centos-64-x64 16:43:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.17nuFq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532227'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:43:49$  ls /tmp/vcsrepo.flrRcW/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:49$  rm -fr /tmp/vcsrepo.flrRcW  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/compression_2_checkout.rb passed in 2.69 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/compression_3_checkout.rb
[00;00m[01;37m
C3498 - checkout with compression 3
[00;00m[00;37m
centos-64-x64 16:43:49$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.ltoanM
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:50$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.ltoanM {}
[00;00m[00;37m
centos-64-x64 16:43:50$  cd /tmp/vcsrepo.ltoanM && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.ltoanM/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 44fedb5] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master dac50a8] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 04cfe20] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 5624e4e] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch e73dc80] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 8af15ab] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression 3 with puppet
[00;00m[00;37m
centos-64-x64 16:43:50$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.vU9nFA
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-2aykhg centos-64-x64:/tmp/apply_manifest.pp.vU9nFA {}
[00;00m[00;37m
centos-64-x64 16:43:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vU9nFA
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532229'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ltoanM/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ltoanM/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.20 seconds
[00;00m[00;37m
centos-64-x64 16:43:51$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.VyJNn6
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-72n9xe centos-64-x64:/tmp/apply_manifest.pp.VyJNn6 {}
[00;00m[00;37m
centos-64-x64 16:43:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VyJNn6
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532230'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.21 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.00 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:43:52$  ls /tmp/vcsrepo.ltoanM/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:52$  rm -fr /tmp/vcsrepo.ltoanM  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/compression_3_checkout.rb passed in 2.58 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/compression_4_checkout.rb
[00;00m[01;37m
C3499 - checkout with compression 4
[00;00m[00;37m
centos-64-x64 16:43:52$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.eR0JnX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:52$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.eR0JnX {}
[00;00m[00;37m
centos-64-x64 16:43:52$  cd /tmp/vcsrepo.eR0JnX && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.eR0JnX/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) d1c724c] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master d82f34a] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 5da75ba] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 47877af] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 225f2b3] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a0a707e] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression 4 with puppet
[00;00m[00;37m
centos-64-x64 16:43:52$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.yI5a1Q
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1bcgm7z centos-64-x64:/tmp/apply_manifest.pp.yI5a1Q {}
[00;00m[00;37m
centos-64-x64 16:43:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yI5a1Q
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532231'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.eR0JnX/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.eR0JnX/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.21 seconds
[00;00m[00;37m
centos-64-x64 16:43:54$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.JRUp1f
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1me1mam centos-64-x64:/tmp/apply_manifest.pp.JRUp1f {}
[00;00m[00;37m
centos-64-x64 16:43:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JRUp1f
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532232'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.25 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.10 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:43:55$  ls /tmp/vcsrepo.eR0JnX/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:43:55$  rm -fr /tmp/vcsrepo.eR0JnX  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/compression_4_checkout.rb passed in 2.69 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/compression_5_checkout.rb
[00;00m[01;37m
C3500 - checkout with compression 5
[00;00m[00;37m
centos-64-x64 16:43:55$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.w3r2hr
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:55$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.w3r2hr {}
[00;00m[00;37m
centos-64-x64 16:43:55$  cd /tmp/vcsrepo.w3r2hr && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.w3r2hr/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 980201f] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 0598403] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 825ae80] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 9b1b5d5] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6f5271c] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 54f6353] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * checkout with compression 5 with puppet
[00;00m[00;37m
centos-64-x64 16:43:55$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Qp5Rz1
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1qt4ee1 centos-64-x64:/tmp/apply_manifest.pp.Qp5Rz1 {}
[00;00m[00;37m
centos-64-x64 16:43:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Qp5Rz1
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532234'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.w3r2hr/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.w3r2hr/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.41 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.30 seconds
[00;00m[00;37m
centos-64-x64 16:43:56$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.cqKLrP
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ckt6ed centos-64-x64:/tmp/apply_manifest.pp.cqKLrP {}
[00;00m[00;37m
centos-64-x64 16:43:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cqKLrP
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532235'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.21 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:43:57$  ls /tmp/vcsrepo.w3r2hr/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.02 seconds
[00;00m[00;37m
centos-64-x64 16:43:58$  rm -fr /tmp/vcsrepo.w3r2hr  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/compression_5_checkout.rb passed in 2.75 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/compression_6_checkout.rb
[00;00m[01;37m
C3501 - checkout with compression 6
[00;00m[00;37m
centos-64-x64 16:43:58$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.9NWb3D
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:43:58$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.9NWb3D {}
[00;00m[00;37m
centos-64-x64 16:43:58$  cd /tmp/vcsrepo.9NWb3D && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.9NWb3D/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 9908967] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master d346f9d] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 4558c71] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 50adc1a] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 149b6eb] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a1cb16d] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression 6 with puppet
[00;00m[00;37m
centos-64-x64 16:43:58$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.QHaHj6
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1x0zmt9 centos-64-x64:/tmp/apply_manifest.pp.QHaHj6 {}
[00;00m[00;37m
centos-64-x64 16:43:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QHaHj6
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532237'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.9NWb3D/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.9NWb3D/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.37 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.19 seconds
[00;00m[00;37m
centos-64-x64 16:43:59$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.0G4dTo
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-10q8e19 centos-64-x64:/tmp/apply_manifest.pp.0G4dTo {}
[00;00m[00;37m
centos-64-x64 16:43:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.0G4dTo
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532238'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.07 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:44:00$  ls /tmp/vcsrepo.9NWb3D/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:00$  rm -fr /tmp/vcsrepo.9NWb3D  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/compression_6_checkout.rb passed in 2.63 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/create/create_bare_repo_that_already_exists.rb
[00;00m[01;37m
C3472 - create bare repo that already exists
[00;00m[00;37m
centos-64-x64 16:44:00$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.QZhfar
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create bare repo
[00;00m[00;37m
centos-64-x64 16:44:00$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37m
centos-64-x64 16:44:00$  mkdir /tmp/vcsrepo.QZhfar/testrepo_bare_repo_already_exists.git  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:00$  cd /tmp/vcsrepo.QZhfar/testrepo_bare_repo_already_exists.git && git --bare init  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.QZhfar/testrepo_bare_repo_already_exists.git/
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * create bare repo that already exists using puppet
[00;00m[00;37m
centos-64-x64 16:44:00$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.pcffVh
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-11lv5lf centos-64-x64:/tmp/apply_manifest.pp.pcffVh {}
[00;00m[00;37m
centos-64-x64 16:44:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pcffVh
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532239'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.07 seconds
[00;00m[01;37m
  * verify repo does not contain .git directory
[00;00m[00;37m
centos-64-x64 16:44:02$  ls -al /tmp/vcsrepo.QZhfar/testrepo_bare_repo_already_exists.git  
[00;00m[01;30mtotal 40
drwxr-xr-x 7 root root 4096 May 19 20:43 .
drwx------ 3 root root 4096 May 19 20:43 ..
drwxr-xr-x 2 root root 4096 May 19 20:43 branches
-rw-r--r-- 1 root root   66 May 19 20:43 config
-rw-r--r-- 1 root root   73 May 19 20:43 description
-rw-r--r-- 1 root root   23 May 19 20:43 HEAD
drwxr-xr-x 2 root root 4096 May 19 20:43 hooks
drwxr-xr-x 2 root root 4096 May 19 20:43 info
drwxr-xr-x 4 root root 4096 May 19 20:43 objects
drwxr-xr-x 4 root root 4096 May 19 20:43 refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:02$  rm -fr /tmp/vcsrepo.QZhfar  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/create/create_bare_repo_that_already_exists.rb passed in 1.39 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/create/create_repo_that_already_exists.rb
[00;00m[01;37m
C3470 - create repo that already exists
[00;00m[00;37m
centos-64-x64 16:44:02$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.RBayut
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:02$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.RBayut {}
[00;00m[00;37m
centos-64-x64 16:44:02$  cd /tmp/vcsrepo.RBayut && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.RBayut/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 8b6154d] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master c171d71] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 374aaff] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch c528d36] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 00ae448] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 8f1c965] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[00;37m
centos-64-x64 16:44:02$  cd /tmp/vcsrepo.RBayut && git clone file:///tmp/vcsrepo.RBayut/testrepo.git testrepo_already_exists  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.RBayut/testrepo_already_exists/.git/
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * create repo that already exists using puppet
[00;00m[00;37m
centos-64-x64 16:44:02$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Rf8Cw6
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1pvudlz centos-64-x64:/tmp/apply_manifest.pp.Rf8Cw6 {}
[00;00m[00;37m
centos-64-x64 16:44:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Rf8Cw6
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532241'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.03 seconds
[00;00m[01;37m
  * verify repo is on master branch
[00;00m[00;37m
centos-64-x64 16:44:03$  cat /tmp/vcsrepo.RBayut/testrepo_already_exists/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:03$  rm -fr /tmp/vcsrepo.RBayut  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/create/create_repo_that_already_exists.rb passed in 1.44 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/group_checkout_file.rb
[00;00m[01;37m
C3487 - checkout as a group (file protocol)
[00;00m[00;37m
centos-64-x64 16:44:03$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.5gPamG
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:03$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.5gPamG {}
[00;00m[00;37m
centos-64-x64 16:44:03$  cd /tmp/vcsrepo.5gPamG && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.5gPamG/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 4382fc7] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 6da5c97] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master cc3e1c5] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 5336bc1] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch c7b8fe4] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 8c7b313] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - create group
[00;00m[00;37m
centos-64-x64 16:44:03$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.f6el5M
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-j73u9j centos-64-x64:/tmp/apply_manifest.pp.f6el5M {}
[00;00m[00;37m
centos-64-x64 16:44:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.f6el5M
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532242'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.82 seconds
[00;00m[01;37m
  * checkout as a group with puppet
[00;00m[00;37m
centos-64-x64 16:44:04$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.YIe20T
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-bx57fb centos-64-x64:/tmp/apply_manifest.pp.YIe20T {}
[00;00m[00;37m
centos-64-x64 16:44:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YIe20T
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532243'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5gPamG/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5gPamG/testrepo_group_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.22 seconds
[00;00m[00;37m
centos-64-x64 16:44:05$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.pPMOl1
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-75ke1j centos-64-x64:/tmp/apply_manifest.pp.pPMOl1 {}
[00;00m[00;37m
centos-64-x64 16:44:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pPMOl1
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532244'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.07 seconds
[00;00m[01;37m
  * verify git checkout is own by group mygroup
[00;00m[00;37m
centos-64-x64 16:44:06$  ls /tmp/vcsrepo.5gPamG/testrepo_group_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:06$  stat --format '%U:%G' /tmp/vcsrepo.5gPamG/testrepo_group_checkout/.git/HEAD  
[00;00m[01;30mroot:mygroup
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:06$  rm -fr /tmp/vcsrepo.5gPamG  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:06$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.6LDBlx
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-x7slay centos-64-x64:/tmp/apply_manifest.pp.6LDBlx {}
[00;00m[00;37m
centos-64-x64 16:44:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6LDBlx
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532245'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.83 seconds
[00;00m[00;32mspec/acceptance/beaker/git/group_checkout/group_checkout_file.rb passed in 4.36 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/group_checkout_file_path.rb
[00;00m[01;37m
C3486 - checkout as a group (file path)
[00;00m[00;37m
centos-64-x64 16:44:07$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.pLcq0y
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:07$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.pLcq0y {}
[00;00m[00;37m
centos-64-x64 16:44:08$  cd /tmp/vcsrepo.pLcq0y && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.pLcq0y/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) f18aa02] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 572273a] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 17242d0] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch decdaca] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 0d58172] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch c69732d] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * setup - create group
[00;00m[00;37m
centos-64-x64 16:44:08$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.D4SKan
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1y7n17l centos-64-x64:/tmp/apply_manifest.pp.D4SKan {}
[00;00m[00;37m
centos-64-x64 16:44:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.D4SKan
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532246'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.83 seconds
[00;00m[01;37m
  * checkout a group with puppet
[00;00m[00;37m
centos-64-x64 16:44:09$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ZP0qPb
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1en0yxr centos-64-x64:/tmp/apply_manifest.pp.ZP0qPb {}
[00;00m[00;37m
centos-64-x64 16:44:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZP0qPb
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532247'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.pLcq0y/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.pLcq0y/testrepo_group_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.37 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.19 seconds
[00;00m[00;37m
centos-64-x64 16:44:10$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.9AGjLc
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-13ujf1n centos-64-x64:/tmp/apply_manifest.pp.9AGjLc {}
[00;00m[00;37m
centos-64-x64 16:44:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9AGjLc
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532248'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify git checkout is own by group mygroup
[00;00m[00;37m
centos-64-x64 16:44:11$  ls /tmp/vcsrepo.pLcq0y/testrepo_group_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:11$  stat --format '%U:%G' /tmp/vcsrepo.pLcq0y/testrepo_group_checkout/.git/HEAD  
[00;00m[01;30mroot:mygroup
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:11$  rm -fr /tmp/vcsrepo.pLcq0y  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:11$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.2dEVdk
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-pylyj8 centos-64-x64:/tmp/apply_manifest.pp.2dEVdk {}
[00;00m[00;37m
centos-64-x64 16:44:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.2dEVdk
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532250'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.83 seconds
[00;00m[00;32mspec/acceptance/beaker/git/group_checkout/group_checkout_file_path.rb passed in 4.34 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/group_checkout_git.rb
[00;00m[01;37m
C3485 - checkout as a group (git protocol)
[00;00m[00;37m
centos-64-x64 16:44:12$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.VQcroF
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:12$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.VQcroF {}
[00;00m[00;37m
centos-64-x64 16:44:12$  cd /tmp/vcsrepo.VQcroF && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.VQcroF/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 3b38d64] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 4c8f1eb] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master ca0ea4a] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 2412b10] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 60fe810] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 77db7cd] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:44:12$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-daemon-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37m
centos-64-x64 16:44:12$  git daemon --base-path=/tmp/vcsrepo.VQcroF  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create group
[00;00m[00;37m
centos-64-x64 16:44:12$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.bqHLpr
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1bmz994 centos-64-x64:/tmp/apply_manifest.pp.bqHLpr {}
[00;00m[00;37m
centos-64-x64 16:44:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bqHLpr
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532251'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.81 seconds
[00;00m[01;37m
  * checkout a group with puppet
[00;00m[00;37m
centos-64-x64 16:44:13$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.5xeBi4
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-jlzwkx centos-64-x64:/tmp/apply_manifest.pp.5xeBi4 {}
[00;00m[00;37m
centos-64-x64 16:44:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5xeBi4
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532252'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.VQcroF/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.VQcroF/testrepo_group_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.43 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.27 seconds
[00;00m[00;37m
centos-64-x64 16:44:14$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.YuvgXO
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-kyka6h centos-64-x64:/tmp/apply_manifest.pp.YuvgXO {}
[00;00m[00;37m
centos-64-x64 16:44:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YuvgXO
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532253'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.25 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.10 seconds
[00;00m[01;37m
  * verify git checkout is own by group mygroup
[00;00m[00;37m
centos-64-x64 16:44:16$  ls /tmp/vcsrepo.VQcroF/testrepo_group_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:16$  stat --format '%U:%G' /tmp/vcsrepo.VQcroF/testrepo_group_checkout/.git/HEAD  
[00;00m[01;30mroot:mygroup
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:16$  rm -fr /tmp/vcsrepo.VQcroF  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:16$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:16$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.4B1KNF
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1k8lpsv centos-64-x64:/tmp/apply_manifest.pp.4B1KNF {}
[00;00m[00;37m
centos-64-x64 16:44:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4B1KNF
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532254'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.88 seconds
[00;00m[00;32mspec/acceptance/beaker/git/group_checkout/group_checkout_git.rb passed in 4.77 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/group_checkout_http.rb
[00;00m[01;37m
C3490 - checkout as a group (http protocol)
[00;00m[00;37m
centos-64-x64 16:44:16$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.6nTMnX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:16$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.6nTMnX {}
[00;00m[00;37m
centos-64-x64 16:44:17$  cd /tmp/vcsrepo.6nTMnX && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.6nTMnX/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 6972556] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 1698d8c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 013a9ce] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 7e7068f] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch d7ab1b3] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch c6a0c1f] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start http server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-113adne centos-64-x64:/tmp/http_daemon.rb {}
[00;00m[00;37m
centos-64-x64 16:44:17$  ruby /tmp/http_daemon.rb  
[00;00m[01;30m[2014-05-19 20:44:15] INFO  WEBrick 1.3.1
[00;00m[01;30m[2014-05-19 20:44:15] INFO  ruby 1.8.7 (2011-06-30) [x86_64-linux]
[00;00m[01;30m[2014-05-19 20:44:15] WARN  TCPServer Error: Address already in use - bind(2)
[00;00m[00;37m
centos-64-x64 executed in 0.10 seconds
[00;00m[01;37m
  * setup - create group
[00;00m[00;37m
centos-64-x64 16:44:17$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.OPFFAp
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-e6js84 centos-64-x64:/tmp/apply_manifest.pp.OPFFAp {}
[00;00m[00;37m
centos-64-x64 16:44:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.OPFFAp
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532256'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.89 seconds
[00;00m[01;37m
  * checkout a group with puppet
[00;00m[00;37m
centos-64-x64 16:44:18$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.HUISLR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-17fydb8 centos-64-x64:/tmp/apply_manifest.pp.HUISLR {}
[00;00m[00;37m
centos-64-x64 16:44:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.HUISLR
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532257'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.6nTMnX/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.6nTMnX/testrepo_group_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.73 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.58 seconds
[00;00m[00;37m
centos-64-x64 16:44:19$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.7FMjJq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-wotkaj centos-64-x64:/tmp/apply_manifest.pp.7FMjJq {}
[00;00m[00;37m
centos-64-x64 16:44:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7FMjJq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532258'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify git checkout is own by group mygroup
[00;00m[00;37m
centos-64-x64 16:44:20$  ls /tmp/vcsrepo.6nTMnX/testrepo_group_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:20$  stat --format '%U:%G' /tmp/vcsrepo.6nTMnX/testrepo_group_checkout/.git/HEAD  
[00;00m[01;30mroot:mygroup
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:20$  rm -fr /tmp/vcsrepo.6nTMnX  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:20$  ps ax | grep 'ruby /tmp/http_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.02 seconds
[00;00m[00;37m
centos-64-x64 16:44:21$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.PxmPsp
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-nha12a centos-64-x64:/tmp/apply_manifest.pp.PxmPsp {}
[00;00m[00;37m
centos-64-x64 16:44:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PxmPsp
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532259'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.04 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.87 seconds
[00;00m[00;32mspec/acceptance/beaker/git/group_checkout/group_checkout_http.rb passed in 4.95 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/group_checkout_https.rb
[00;00m[01;37m
C3491 - checkout as a group (https protocol)
[00;00m[00;37m
centos-64-x64 16:44:21$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.FLOpl5
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:21$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.FLOpl5 {}
[00;00m[00;37m
centos-64-x64 16:44:22$  cd /tmp/vcsrepo.FLOpl5 && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.FLOpl5/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 583bce8] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 9cfa46b] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master a4cfb4c] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch e01c6dd] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch a9345f5] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a293172] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * setup - start https server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ta3w7z centos-64-x64:/tmp/https_daemon.rb {}
[00;00m[01;37m
  * setup - create group
[00;00m[00;37m
centos-64-x64 16:44:22$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.8r7Chs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1xv8y0d centos-64-x64:/tmp/apply_manifest.pp.8r7Chs {}
[00;00m[00;37m
centos-64-x64 16:44:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.8r7Chs
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532261'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.92 seconds
[00;00m[01;37m
  * checkout as a group with puppet
[00;00m[00;37m
centos-64-x64 16:44:23$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Mcq1o3
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1lf0gbx centos-64-x64:/tmp/apply_manifest.pp.Mcq1o3 {}
[00;00m[00;37m
centos-64-x64 16:44:23$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Mcq1o3
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532261'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.FLOpl5/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.FLOpl5/testrepo_group_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 11.16 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.06 seconds
[00;00m[00;37m
centos-64-x64 16:44:35$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.pO1jzS
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1i31fuh centos-64-x64:/tmp/apply_manifest.pp.pO1jzS {}
[00;00m[00;37m
centos-64-x64 16:44:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pO1jzS
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532274'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify git checkout is own by group mygroup
[00;00m[00;37m
centos-64-x64 16:44:36$  ls /tmp/vcsrepo.FLOpl5/testrepo_group_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:36$  stat --format '%U:%G' /tmp/vcsrepo.FLOpl5/testrepo_group_checkout/.git/HEAD  
[00;00m[01;30mroot:mygroup
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:36$  rm -fr /tmp/vcsrepo.FLOpl5  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:36$  ps ax | grep 'ruby /tmp/https_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:36$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.tF7OfH
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ag0xcv centos-64-x64:/tmp/apply_manifest.pp.tF7OfH {}
[00;00m[00;37m
centos-64-x64 16:44:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.tF7OfH
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532275'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.91 seconds
[00;00m[00;32mspec/acceptance/beaker/git/group_checkout/group_checkout_https.rb passed in 15.42 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/group_checkout_scp.rb
[00;00m[01;37m
C3488 - checkout as a group (ssh protocol, scp syntax)
[00;00m[00;37m
centos-64-x64 16:44:37$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.argogQ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:37$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.argogQ {}
[00;00m[00;37m
centos-64-x64 16:44:37$  cd /tmp/vcsrepo.argogQ && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.argogQ/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 28aebda] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 8d3afae] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 52d2206] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 9541bdb] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch b0c7717] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a3b28b2] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:44:37$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.17 seconds
[00;00m[00;37m
centos-64-x64 16:44:37$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.03 seconds
[00;00m[00;37m
centos-64-x64 16:44:37$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create group
[00;00m[00;37m
centos-64-x64 16:44:37$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.y5DBCT
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1v6jcwv centos-64-x64:/tmp/apply_manifest.pp.y5DBCT {}
[00;00m[00;37m
centos-64-x64 16:44:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.y5DBCT
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532276'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.06 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.90 seconds
[00;00m[01;37m
  * checkout as a group with puppet (scp syntax)
[00;00m[00;37m
centos-64-x64 16:44:38$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.PpgOW3
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ofotag centos-64-x64:/tmp/apply_manifest.pp.PpgOW3 {}
[00;00m[00;37m
centos-64-x64 16:44:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.PpgOW3
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532277'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.argogQ/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.argogQ/testrepo.git /tmp/vcsrepo.argogQ/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.argogQ/testrepo_group_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.argogQ/testrepo.git /tmp/vcsrepo.argogQ/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.37 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.27 seconds
[00;00m[00;37m
centos-64-x64 16:44:40$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.SU8U7a
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-qqq1tv centos-64-x64:/tmp/apply_manifest.pp.SU8U7a {}
[00;00m[00;37m
centos-64-x64 16:44:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SU8U7a
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532278'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.argogQ/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.argogQ/testrepo.git /tmp/vcsrepo.argogQ/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.argogQ/testrepo_group_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.argogQ/testrepo.git /tmp/vcsrepo.argogQ/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.35 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.18 seconds
[00;00m[01;37m
  * verify git checkout is own by group mygroup
[00;00m[00;37m
centos-64-x64 16:44:41$  ls /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_scp.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_scp.rb:49
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_scp.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_scp.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:44:41$  rm -fr /tmp/vcsrepo.argogQ  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:41$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.cKEOWg
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-n135wo centos-64-x64:/tmp/apply_manifest.pp.cKEOWg {}
[00;00m[00;37m
centos-64-x64 16:44:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cKEOWg
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.08 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532280'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 6b95df253f979536bea42e5c73cc4438[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[00;37m
centos-64-x64 16:44:42$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.3aJYlJ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1e7sqrg centos-64-x64:/tmp/apply_manifest.pp.3aJYlJ {}
[00;00m[00;37m
centos-64-x64 16:44:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3aJYlJ
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.08 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532280'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum d8873e888777c072ca7bf3a020cf23ef[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.02 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.89 seconds
[00;00m[00;37m
centos-64-x64 16:44:43$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.usA20k
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1idxigp centos-64-x64:/tmp/apply_manifest.pp.usA20k {}
[00;00m[00;37m
centos-64-x64 16:44:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.usA20k
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532281'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.91 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/group_checkout/group_checkout_scp.rb errored in 6.68 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/group_checkout_ssh.rb
[00;00m[01;37m
C3489 - checkout as a group (ssh protocol)
[00;00m[00;37m
centos-64-x64 16:44:44$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.RQkZO2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:44$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.RQkZO2 {}
[00;00m[00;37m
centos-64-x64 16:44:44$  cd /tmp/vcsrepo.RQkZO2 && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.RQkZO2/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) e8324fa] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master ac93a08] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 3971bc7] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 9ef8a6c] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch be72f3c] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 4729194] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:44:44$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.14 seconds
[00;00m[00;37m
centos-64-x64 16:44:44$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:44$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create group
[00;00m[00;37m
centos-64-x64 16:44:44$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.eZWE16
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-lmwo3d centos-64-x64:/tmp/apply_manifest.pp.eZWE16 {}
[00;00m[00;37m
centos-64-x64 16:44:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.eZWE16
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532283'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.82 seconds
[00;00m[01;37m
  * checkout as a group with puppet
[00;00m[00;37m
centos-64-x64 16:44:45$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.gaiSg3
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-nmdn47 centos-64-x64:/tmp/apply_manifest.pp.gaiSg3 {}
[00;00m[00;37m
centos-64-x64 16:44:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.gaiSg3
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532284'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.RQkZO2/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.RQkZO2/testrepo.git /tmp/vcsrepo.RQkZO2/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.RQkZO2/testrepo_group_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.RQkZO2/testrepo.git /tmp/vcsrepo.RQkZO2/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.35 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.17 seconds
[00;00m[00;37m
centos-64-x64 16:44:46$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ycvu5Z
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-r4cthu centos-64-x64:/tmp/apply_manifest.pp.ycvu5Z {}
[00;00m[00;37m
centos-64-x64 16:44:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ycvu5Z
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532285'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.RQkZO2/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.RQkZO2/testrepo.git /tmp/vcsrepo.RQkZO2/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.RQkZO2/testrepo_group_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.RQkZO2/testrepo.git /tmp/vcsrepo.RQkZO2/testrepo_group_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.35 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.20 seconds
[00;00m[01;37m
  * verify git checkout is own by group mygroup
[00;00m[00;37m
centos-64-x64 16:44:47$  ls /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_ssh.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_ssh.rb:49
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_ssh.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/group_checkout/group_checkout_ssh.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:44:47$  rm -fr /tmp/vcsrepo.RQkZO2  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:47$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.7ZfPRn
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1il7l56 centos-64-x64:/tmp/apply_manifest.pp.7ZfPRn {}
[00;00m[00;37m
centos-64-x64 16:44:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7ZfPRn
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532286'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 027a239e53878d8d26a3bbfbaf7bbbec[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.79 seconds
[00;00m[00;37m
centos-64-x64 16:44:48$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Kt9O2O
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-e6q8nt centos-64-x64:/tmp/apply_manifest.pp.Kt9O2O {}
[00;00m[00;37m
centos-64-x64 16:44:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Kt9O2O
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532287'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum e60e79ebd50dc507cf785d75320cd72a[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.78 seconds
[00;00m[00;37m
centos-64-x64 16:44:49$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.9QdXkq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1curc8o centos-64-x64:/tmp/apply_manifest.pp.9QdXkq {}
[00;00m[00;37m
centos-64-x64 16:44:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.9QdXkq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532288'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Group[mygroup]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/group_checkout/group_checkout_ssh.rb errored in 6.20 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/revision_checkout_file.rb
[00;00m[01;37m
C3452 - checkout a revision (file protocol)
[00;00m[00;37m
centos-64-x64 16:44:50$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.26jeoj
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:50$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.26jeoj {}
[00;00m[00;37m
centos-64-x64 16:44:50$  cd /tmp/vcsrepo.26jeoj && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.26jeoj/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 5bdbfdb] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master bcadc10] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master e6fdaa3] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 82280c8] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 457b750] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 60fec38] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * get revision sha from repo
[00;00m[00;37m
centos-64-x64 16:44:50$  git --git-dir=/tmp/vcsrepo.26jeoj/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m5bdbfdb89c9fc9764d7ea756455692cad91b072a
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a revision with puppet
[00;00m[00;37m
centos-64-x64 16:44:50$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.HGulKn
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-f0rbso centos-64-x64:/tmp/apply_manifest.pp.HGulKn {}
[00;00m[00;37m
centos-64-x64 16:44:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.HGulKn
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532289'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.26jeoj/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.26jeoj/testrepo_revision_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.54 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.40 seconds
[00;00m[00;37m
centos-64-x64 16:44:51$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.W5lCff
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-dvhg6c centos-64-x64:/tmp/apply_manifest.pp.W5lCff {}
[00;00m[00;37m
centos-64-x64 16:44:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.W5lCff
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532290'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.55 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.39 seconds
[00;00m[01;37m
  * verify repo is checked out to revision 5bdbfdb89c9fc9764d7ea756455692cad91b072a
[00;00m[00;37m
centos-64-x64 16:44:53$  ls /tmp/vcsrepo.26jeoj/testrepo_revision_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:53$  cat /tmp/vcsrepo.26jeoj/testrepo_revision_checkout/.git/HEAD  
[00;00m[01;30m5bdbfdb89c9fc9764d7ea756455692cad91b072a
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:53$  rm -fr /tmp/vcsrepo.26jeoj  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/revision_checkout/revision_checkout_file.rb passed in 3.19 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/revision_checkout_file_path.rb
[00;00m[01;37m
C3451 - checkout a revision (file path)
[00;00m[00;37m
centos-64-x64 16:44:53$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.d0M4Rq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:53$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.d0M4Rq {}
[00;00m[00;37m
centos-64-x64 16:44:53$  cd /tmp/vcsrepo.d0M4Rq && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.d0M4Rq/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 58e4a23] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 2e63dfc] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 11f3e57] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch f8b8600] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 2e0c7c6] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch e9ac9f8] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.05 seconds
[00;00m[01;37m
  * get revision sha from repo
[00;00m[00;37m
centos-64-x64 16:44:53$  git --git-dir=/tmp/vcsrepo.d0M4Rq/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m58e4a2378c951890434bb59e6148f92cd87d5d90
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a revision with puppet
[00;00m[00;37m
centos-64-x64 16:44:53$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ok29kM
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-okiz2s centos-64-x64:/tmp/apply_manifest.pp.ok29kM {}
[00;00m[00;37m
centos-64-x64 16:44:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ok29kM
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532292'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.d0M4Rq/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.d0M4Rq/testrepo_revision_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.54 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.42 seconds
[00;00m[00;37m
centos-64-x64 16:44:55$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.SU2rNH
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-3j7okw centos-64-x64:/tmp/apply_manifest.pp.SU2rNH {}
[00;00m[00;37m
centos-64-x64 16:44:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SU2rNH
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532293'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.54 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.40 seconds
[00;00m[01;37m
  * verify repo is checked out to revision 58e4a2378c951890434bb59e6148f92cd87d5d90
[00;00m[00;37m
centos-64-x64 16:44:56$  ls /tmp/vcsrepo.d0M4Rq/testrepo_revision_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:56$  cat /tmp/vcsrepo.d0M4Rq/testrepo_revision_checkout/.git/HEAD  
[00;00m[01;30m58e4a2378c951890434bb59e6148f92cd87d5d90
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:44:56$  rm -fr /tmp/vcsrepo.d0M4Rq  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/revision_checkout/revision_checkout_file_path.rb passed in 3.26 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/revision_checkout_git.rb
[00;00m[01;37m
C3450 - checkout a revision (git protocol)
[00;00m[00;37m
centos-64-x64 16:44:56$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.L46fEX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:44:56$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.L46fEX {}
[00;00m[00;37m
centos-64-x64 16:44:56$  cd /tmp/vcsrepo.L46fEX && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.L46fEX/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 87a519a] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 867a8ec] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master d11fcf7] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 42efb63] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch d600885] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a213364] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:44:56$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-daemon-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37m
centos-64-x64 16:44:57$  git daemon --base-path=/tmp/vcsrepo.L46fEX  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * get revision sha from repo
[00;00m[00;37m
centos-64-x64 16:44:57$  git --git-dir=/tmp/vcsrepo.L46fEX/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m87a519a6ac1312d2fcdbc663683c1f4543f9d56e
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a revision with puppet
[00;00m[00;37m
centos-64-x64 16:44:57$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.4jr8fq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-4qu73 centos-64-x64:/tmp/apply_manifest.pp.4jr8fq {}
[00;00m[00;37m
centos-64-x64 16:44:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4jr8fq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532295'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.L46fEX/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.L46fEX/testrepo_revision_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.58 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.40 seconds
[00;00m[00;37m
centos-64-x64 16:44:58$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.KObHrv
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1dlvq6n centos-64-x64:/tmp/apply_manifest.pp.KObHrv {}
[00;00m[00;37m
centos-64-x64 16:44:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.KObHrv
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532297'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.64 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.60 seconds
[00;00m[01;37m
  * verify checkout is set to revision 87a519a6ac1312d2fcdbc663683c1f4543f9d56e
[00;00m[00;37m
centos-64-x64 16:45:00$  ls /tmp/vcsrepo.L46fEX/testrepo_revision_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:00$  cat /tmp/vcsrepo.L46fEX/testrepo_revision_checkout/.git/HEAD  
[00;00m[01;30m87a519a6ac1312d2fcdbc663683c1f4543f9d56e
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:00$  rm -fr /tmp/vcsrepo.L46fEX  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:00$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/revision_checkout/revision_checkout_git.rb passed in 3.70 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/revision_checkout_http.rb
[00;00m[01;37m
C3455 - checkout a revision (http protocol)
[00;00m[00;37m
centos-64-x64 16:45:00$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.2XQjbF
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:45:00$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.2XQjbF {}
[00;00m[00;37m
centos-64-x64 16:45:00$  cd /tmp/vcsrepo.2XQjbF && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.2XQjbF/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 2e746eb] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 355001c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 178c22d] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 6334c55] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 4bfd1e9] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a480189] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start http server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1jbdvd2 centos-64-x64:/tmp/http_daemon.rb {}
[00;00m[00;37m
centos-64-x64 16:45:00$  ruby /tmp/http_daemon.rb  
[00;00m[01;30m[2014-05-19 20:44:58] INFO  WEBrick 1.3.1
[00;00m[01;30m[2014-05-19 20:44:58] INFO  ruby 1.8.7 (2011-06-30) [x86_64-linux]
[00;00m[01;30m[2014-05-19 20:44:58] WARN  TCPServer Error: Address already in use - bind(2)
[00;00m[00;37m
centos-64-x64 executed in 0.11 seconds
[00;00m[01;37m
  * get revision sha from repo
[00;00m[00;37m
centos-64-x64 16:45:00$  git --git-dir=/tmp/vcsrepo.2XQjbF/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m2e746eb2824a5e57146609bbf954c6c119626d7d
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a revision with puppet
[00;00m[00;37m
centos-64-x64 16:45:00$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.bucdYt
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1a29c99 centos-64-x64:/tmp/apply_manifest.pp.bucdYt {}
[00;00m[00;37m
centos-64-x64 16:45:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bucdYt
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532299'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.2XQjbF/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.2XQjbF/testrepo_revision_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.98 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.83 seconds
[00;00m[00;37m
centos-64-x64 16:45:02$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.meIMYq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1pjr6wl centos-64-x64:/tmp/apply_manifest.pp.meIMYq {}
[00;00m[00;37m
centos-64-x64 16:45:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.meIMYq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532301'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.79 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.57 seconds
[00;00m[01;37m
  * verify checkout is set to revision 2e746eb2824a5e57146609bbf954c6c119626d7d
[00;00m[00;37m
centos-64-x64 16:45:04$  ls /tmp/vcsrepo.2XQjbF/testrepo_revision_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:04$  cat /tmp/vcsrepo.2XQjbF/testrepo_revision_checkout/.git/HEAD  
[00;00m[01;30m2e746eb2824a5e57146609bbf954c6c119626d7d
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:04$  rm -fr /tmp/vcsrepo.2XQjbF  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:04$  ps ax | grep 'ruby /tmp/http_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/revision_checkout/revision_checkout_http.rb passed in 3.93 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/revision_checkout_https.rb
[00;00m[01;37m
C3456 - checkout a revision (https protocol)
[00;00m[00;37m
centos-64-x64 16:45:04$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.0f0lgC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:45:04$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.25 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.0f0lgC {}
[00;00m[00;37m
centos-64-x64 16:45:04$  cd /tmp/vcsrepo.0f0lgC && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.0f0lgC/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 1d84d99] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master bc85c64] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master daf095c] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 025e2ed] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch cae2dcc] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 6a672fe] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start https server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1atvtw6 centos-64-x64:/tmp/https_daemon.rb {}
[00;00m[01;37m
  * get revision sha from repo
[00;00m[00;37m
centos-64-x64 16:45:04$  git clone https://github.com/johnduarte/testrepo.git /tmp/vcsrepo.0f0lgC/foo  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.0f0lgC/foo/.git/
[00;00m[00;37m
centos-64-x64 executed in 10.82 seconds
[00;00m[00;37m
centos-64-x64 16:45:15$  git --git-dir=/tmp/vcsrepo.0f0lgC/foo/.git rev-list HEAD | tail -1  
[00;00m[01;30m0f26b5311f7532ca0945c01ebe6f9efb7c731140
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a revision with puppet
[00;00m[00;37m
centos-64-x64 16:45:15$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.EkK1sC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1f2bg4g centos-64-x64:/tmp/apply_manifest.pp.EkK1sC {}
[00;00m[00;37m
centos-64-x64 16:45:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.EkK1sC
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532314'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0f0lgC/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0f0lgC/testrepo_revision_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 11.25 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.04 seconds
[00;00m[00;37m
centos-64-x64 16:45:27$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.nfFmOy
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-fy7nzb centos-64-x64:/tmp/apply_manifest.pp.nfFmOy {}
[00;00m[00;37m
centos-64-x64 16:45:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nfFmOy
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532326'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 11.58 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.36 seconds
[00;00m[01;37m
  * verify checkout is set to revision 0f26b5311f7532ca0945c01ebe6f9efb7c731140
[00;00m[00;37m
centos-64-x64 16:45:39$  ls /tmp/vcsrepo.0f0lgC/testrepo_revision_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:39$  cat /tmp/vcsrepo.0f0lgC/testrepo_revision_checkout/.git/HEAD  
[00;00m[01;30m0f26b5311f7532ca0945c01ebe6f9efb7c731140
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:39$  rm -fr /tmp/vcsrepo.0f0lgC  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:39$  ps ax | grep 'ruby /tmp/https_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.02 seconds
[00;00m[00;32mspec/acceptance/beaker/git/revision_checkout/revision_checkout_https.rb passed in 35.64 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/revision_checkout_scp.rb
[00;00m[01;37m
C3453 - checkout a revision (ssh protocol, scp syntax)
[00;00m[00;37m
centos-64-x64 16:45:39$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.AZhCbR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:45:39$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.AZhCbR {}
[00;00m[00;37m
centos-64-x64 16:45:40$  cd /tmp/vcsrepo.AZhCbR && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.AZhCbR/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 20fba60] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 5f136a5] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 6c7e24c] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 85661c0] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6c7852d] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 262533e] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:45:40$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.08 seconds
[00;00m[00;37m
centos-64-x64 16:45:40$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:40$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * get revision sha from repo
[00;00m[00;37m
centos-64-x64 16:45:40$  git --git-dir=/tmp/vcsrepo.AZhCbR/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m20fba60831d50d0d3bf02f8a8283a8a060186351
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a revision with puppet (scp syntax)
[00;00m[00;37m
centos-64-x64 16:45:40$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.pk9Dup
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1xagm95 centos-64-x64:/tmp/apply_manifest.pp.pk9Dup {}
[00;00m[00;37m
centos-64-x64 16:45:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.pk9Dup
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532339'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.AZhCbR/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.AZhCbR/testrepo.git /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.AZhCbR/testrepo_revision_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.AZhCbR/testrepo.git /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.22 seconds
[00;00m[00;37m
centos-64-x64 16:45:41$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.MaXDes
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1r8diq4 centos-64-x64:/tmp/apply_manifest.pp.MaXDes {}
[00;00m[00;37m
centos-64-x64 16:45:41$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MaXDes
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532340'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.AZhCbR/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.AZhCbR/testrepo.git /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.AZhCbR/testrepo_revision_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.AZhCbR/testrepo.git /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.35 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.23 seconds
[00;00m[01;37m
  * verify checkout is set to revision 20fba60831d50d0d3bf02f8a8283a8a060186351
[00;00m[00;37m
centos-64-x64 16:45:42$  ls /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/  
[00;00m[01;30mls: [00;00m[01;30mcannot access /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/[00;00m[01;30m: No such file or directory[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_scp.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_scp.rb:49
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_scp.rb:6
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_scp.rb:6
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:45:42$  rm -fr /tmp/vcsrepo.AZhCbR  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:42$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.yDvQil
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ojhhif centos-64-x64:/tmp/apply_manifest.pp.yDvQil {}
[00;00m[00;37m
centos-64-x64 16:45:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.yDvQil
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.08 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532341'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 54d71d146aae2b4d27f24ca0633f6ce4[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.86 seconds
[00;00m[00;37m
centos-64-x64 16:45:43$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ZzTZsC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-140im5c centos-64-x64:/tmp/apply_manifest.pp.ZzTZsC {}
[00;00m[00;37m
centos-64-x64 16:45:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZzTZsC
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532342'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 8e9db92b6bbf111c491d93e9cd915079[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.80 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/revision_checkout/revision_checkout_scp.rb errored in 4.65 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/revision_checkout_ssh.rb
[00;00m[01;37m
C3454 - checkout a revision (ssh protocol)
[00;00m[00;37m
centos-64-x64 16:45:44$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.bQx2FH
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:45:44$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.bQx2FH {}
[00;00m[00;37m
centos-64-x64 16:45:44$  cd /tmp/vcsrepo.bQx2FH && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.bQx2FH/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 129d3ae] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master afee1b3] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master e62a7da] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch d2cca55] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch bd196c5] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 7259c90] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:45:44$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.22 seconds
[00;00m[00;37m
centos-64-x64 16:45:45$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:45$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * get revision sha from repo
[00;00m[00;37m
centos-64-x64 16:45:45$  git --git-dir=/tmp/vcsrepo.bQx2FH/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m129d3aeadf7e281b69e1fefee328815956fa5b0d
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a revision with puppet
[00;00m[00;37m
centos-64-x64 16:45:45$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.EAXihe
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-2xh4p6 centos-64-x64:/tmp/apply_manifest.pp.EAXihe {}
[00;00m[00;37m
centos-64-x64 16:45:45$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.EAXihe
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532343'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bQx2FH/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.bQx2FH/testrepo.git /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bQx2FH/testrepo_revision_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.bQx2FH/testrepo.git /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.36 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.25 seconds
[00;00m[00;37m
centos-64-x64 16:45:46$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.LLE0CD
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1c5rbb7 centos-64-x64:/tmp/apply_manifest.pp.LLE0CD {}
[00;00m[00;37m
centos-64-x64 16:45:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.LLE0CD
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532345'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bQx2FH/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.bQx2FH/testrepo.git /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bQx2FH/testrepo_revision_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.bQx2FH/testrepo.git /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.36 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.24 seconds
[00;00m[01;37m
  * verify checkout is set to revision 129d3aeadf7e281b69e1fefee328815956fa5b0d
[00;00m[00;37m
centos-64-x64 16:45:47$  ls /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_ssh.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_ssh.rb:49
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_ssh.rb:6
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/revision_checkout/revision_checkout_ssh.rb:6
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:45:47$  rm -fr /tmp/vcsrepo.bQx2FH  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:47$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.5KO66B
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1s6yi4n centos-64-x64:/tmp/apply_manifest.pp.5KO66B {}
[00;00m[00;37m
centos-64-x64 16:45:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.5KO66B
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532346'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 551cd0da9284a929c1a1334eca4d4a6b[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[00;37m
centos-64-x64 16:45:48$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.EVnkmp
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1fqx2wi centos-64-x64:/tmp/apply_manifest.pp.EVnkmp {}
[00;00m[00;37m
centos-64-x64 16:45:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.EVnkmp
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532347'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 2461e84638db64473fc5748763f4d1f5[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/revision_checkout/revision_checkout_ssh.rb errored in 4.86 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/shallow_clone_file.rb
[00;00m[01;37m
C3476 - shallow clone repo minimal depth = 1 (file protocol)
[00;00m[00;37m
centos-64-x64 16:45:49$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.JMqLqL
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:45:49$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.JMqLqL {}
[00;00m[00;37m
centos-64-x64 16:45:49$  cd /tmp/vcsrepo.JMqLqL && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.JMqLqL/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 332bbf6] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 4be2280] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 1e87cd7] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 94fb65d] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 5f20763] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 3277b19] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * shallow clone repo with puppet
[00;00m[00;37m
centos-64-x64 16:45:49$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.GluA2L
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1kcjfcz centos-64-x64:/tmp/apply_manifest.pp.GluA2L {}
[00;00m[00;37m
centos-64-x64 16:45:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.GluA2L
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532348'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.JMqLqL/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.JMqLqL/testrepo_shallow_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.41 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.26 seconds
[00;00m[00;37m
centos-64-x64 16:45:51$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.lvMovE
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-62v3en centos-64-x64:/tmp/apply_manifest.pp.lvMovE {}
[00;00m[00;37m
centos-64-x64 16:45:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lvMovE
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532349'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.13 seconds
[00;00m[01;37m
  * verify checkout is shallow and of the correct depth
[00;00m[00;37m
centos-64-x64 16:45:52$  ls /tmp/vcsrepo.JMqLqL/testrepo_shallow_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
shallow
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:52$  wc -l /tmp/vcsrepo.JMqLqL/testrepo_shallow_clone/.git/shallow  
[00;00m[01;30m2 /tmp/vcsrepo.JMqLqL/testrepo_shallow_clone/.git/shallow
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:52$  rm -fr /tmp/vcsrepo.JMqLqL  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/shallow_clone/shallow_clone_file.rb passed in 2.78 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/shallow_clone_git.rb
[00;00m[01;37m
C3474 - shallow clone repo minimal depth = 1 (git protocol)
[00;00m[00;37m
centos-64-x64 16:45:52$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.MwFZv9
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:45:52$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.MwFZv9 {}
[00;00m[00;37m
centos-64-x64 16:45:52$  cd /tmp/vcsrepo.MwFZv9 && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.MwFZv9/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 77e9926] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 0bff5ee] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 5f64022] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 3d4b04f] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch ee6b03a] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 6bdc031] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:45:52$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-daemon-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.30 seconds
[00;00m[00;37m
centos-64-x64 16:45:52$  git daemon --base-path=/tmp/vcsrepo.MwFZv9  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * shallow clone repo with puppet
[00;00m[00;37m
centos-64-x64 16:45:52$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.MreHlb
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-2uerke centos-64-x64:/tmp/apply_manifest.pp.MreHlb {}
[00;00m[00;37m
centos-64-x64 16:45:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.MreHlb
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532351'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.MwFZv9/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.MwFZv9/testrepo_shallow_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.45 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.34 seconds
[00;00m[00;37m
centos-64-x64 16:45:54$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.xbmRrG
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-5pwoqi centos-64-x64:/tmp/apply_manifest.pp.xbmRrG {}
[00;00m[00;37m
centos-64-x64 16:45:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xbmRrG
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532352'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify checkout is shallow and of the correct depth
[00;00m[00;37m
centos-64-x64 16:45:55$  ls /tmp/vcsrepo.MwFZv9/testrepo_shallow_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
shallow
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:55$  wc -l /tmp/vcsrepo.MwFZv9/testrepo_shallow_clone/.git/shallow  
[00;00m[01;30m2 /tmp/vcsrepo.MwFZv9/testrepo_shallow_clone/.git/shallow
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:55$  rm -fr /tmp/vcsrepo.MwFZv9  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:55$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/shallow_clone/shallow_clone_git.rb passed in 3.12 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/shallow_clone_https.rb
[00;00m[01;37m
C3480 - shallow clone repo minimal depth = 1 (https protocol)
[00;00m[01;37m
Not currently supported. See FM-1286
[00;00m[00;37mspec/acceptance/beaker/git/shallow_clone/shallow_clone_https.rb skipped in 0.00 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/shallow_clone_scp.rb
[00;00m[01;37m
C3478 - shallow clone repo minimal depth = 1 (ssh protocol, scp syntax)
[00;00m[00;37m
centos-64-x64 16:45:55$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.bDWugz
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:45:55$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.bDWugz {}
[00;00m[00;37m
centos-64-x64 16:45:55$  cd /tmp/vcsrepo.bDWugz && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.bDWugz/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) d96dfd2] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 0e7e1d3] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 5d7d2ea] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch e9c8c98] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch a081aa5] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 0f64658] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:45:55$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.02 seconds
[00;00m[00;37m
centos-64-x64 16:45:55$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:55$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * shallow clone repo with puppet (scp syntax)
[00;00m[00;37m
centos-64-x64 16:45:55$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.W97lu0
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1fljuhx centos-64-x64:/tmp/apply_manifest.pp.W97lu0 {}
[00;00m[00;37m
centos-64-x64 16:45:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.W97lu0
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532354'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bDWugz/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone --depth 1 root@centos-64-x64:/tmp/vcsrepo.bDWugz/testrepo.git /tmp/vcsrepo.bDWugz/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30mError: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bDWugz/testrepo_shallow_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone --depth 1 root@centos-64-x64:/tmp/vcsrepo.bDWugz/testrepo.git /tmp/vcsrepo.bDWugz/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.36 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.24 seconds
[00;00m[00;37m
centos-64-x64 16:45:56$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.jVYVzV
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ehzgcg centos-64-x64:/tmp/apply_manifest.pp.jVYVzV {}
[00;00m[00;37m
centos-64-x64 16:45:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jVYVzV
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532355'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bDWugz/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone --depth 1 root@centos-64-x64:/tmp/vcsrepo.bDWugz/testrepo.git /tmp/vcsrepo.bDWugz/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.bDWugz/testrepo_shallow_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone --depth 1 root@centos-64-x64:/tmp/vcsrepo.bDWugz/testrepo.git /tmp/vcsrepo.bDWugz/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.35 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.23 seconds
[00;00m[01;37m
  * verify checkout is shallow and of the correct depth
[00;00m[00;37m
centos-64-x64 16:45:58$  ls /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_scp.rb:44
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_scp.rb:43
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_scp.rb:6
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_scp.rb:6
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:45:58$  rm -fr /tmp/vcsrepo.bDWugz  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:45:58$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.hvSfhU
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-13v4jnn centos-64-x64:/tmp/apply_manifest.pp.hvSfhU {}
[00;00m[00;37m
centos-64-x64 16:45:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hvSfhU
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532357'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum cf03f5c9a1ab39accc2cb009c23a6c1e[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.87 seconds
[00;00m[00;37m
centos-64-x64 16:45:59$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.6JaLdR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1bd552h centos-64-x64:/tmp/apply_manifest.pp.6JaLdR {}
[00;00m[00;37m
centos-64-x64 16:45:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6JaLdR
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532357'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum abba8144e5fe891f51400036fcbfd584[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.86 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/shallow_clone/shallow_clone_scp.rb errored in 4.69 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/shallow_clone_ssh.rb
[00;00m[01;37m
C3477 - shallow clone repo minimal depth = 1 (ssh protocol)
[00;00m[00;37m
centos-64-x64 16:46:00$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.0nHnTI
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:00$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.0nHnTI {}
[00;00m[00;37m
centos-64-x64 16:46:00$  cd /tmp/vcsrepo.0nHnTI && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.0nHnTI/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) a54d4b8] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 6b7e3a4] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master fa840dc] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 0983e78] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 97c9b08] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch b30af7c] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:46:00$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.16 seconds
[00;00m[00;37m
centos-64-x64 16:46:00$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:00$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * shallow clone repo with puppet
[00;00m[00;37m
centos-64-x64 16:46:00$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.UJo5HQ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1wexsww centos-64-x64:/tmp/apply_manifest.pp.UJo5HQ {}
[00;00m[00;37m
centos-64-x64 16:46:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.UJo5HQ
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532359'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0nHnTI/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone --depth 1 ssh://root@centos-64-x64/tmp/vcsrepo.0nHnTI/testrepo.git /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly[00;00m[01;30m
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0nHnTI/testrepo_shallow_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone --depth 1 ssh://root@centos-64-x64/tmp/vcsrepo.0nHnTI/testrepo.git /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.35 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.20 seconds
[00;00m[00;37m
centos-64-x64 16:46:01$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.4iqZyr
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-4rtmpo centos-64-x64:/tmp/apply_manifest.pp.4iqZyr {}
[00;00m[00;37m
centos-64-x64 16:46:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4iqZyr
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532360'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0nHnTI/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone --depth 1 ssh://root@centos-64-x64/tmp/vcsrepo.0nHnTI/testrepo.git /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0nHnTI/testrepo_shallow_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone --depth 1 ssh://root@centos-64-x64/tmp/vcsrepo.0nHnTI/testrepo.git /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.36 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.25 seconds
[00;00m[01;37m
  * verify checkout is shallow and of the correct depth
[00;00m[00;37m
centos-64-x64 16:46:03$  ls /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_ssh.rb:44
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_ssh.rb:43
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_ssh.rb:6
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/shallow_clone/shallow_clone_ssh.rb:6
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:46:03$  rm -fr /tmp/vcsrepo.0nHnTI  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:03$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.cgcSGk
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-11z992g centos-64-x64:/tmp/apply_manifest.pp.cgcSGk {}
[00;00m[00;37m
centos-64-x64 16:46:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cgcSGk
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532361'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum a631a408b4ed58d4284a9bf52e4eab9f[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.87 seconds
[00;00m[00;37m
centos-64-x64 16:46:03$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.dAd7Gk
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-cz4j8o centos-64-x64:/tmp/apply_manifest.pp.dAd7Gk {}
[00;00m[00;37m
centos-64-x64 16:46:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.dAd7Gk
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532362'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 36290e8690920f8355161168cad8cc94[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.83 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/shallow_clone/shallow_clone_ssh.rb errored in 4.78 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/shallow_clone_zero_depth.rb
[00;00m[01;37m
C3404 - shallow clone repo depth = 0 non shallow
[00;00m[00;37m
centos-64-x64 16:46:04$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.Om0C1R
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:04$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.Om0C1R {}
[00;00m[00;37m
centos-64-x64 16:46:05$  cd /tmp/vcsrepo.Om0C1R && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.Om0C1R/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) d5e6224] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master a5b746c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master e5d57e5] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 0463452] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch f7afb83] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 5c033c8] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * shallow clone repo with puppet (zero depth means not shallow)
[00;00m[00;37m
centos-64-x64 16:46:05$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.dtz11f
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-vsp1i5 centos-64-x64:/tmp/apply_manifest.pp.dtz11f {}
[00;00m[00;37m
centos-64-x64 16:46:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.dtz11f
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532363'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.Om0C1R/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.Om0C1R/testrepo_shallow_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.20 seconds
[00;00m[00;37m
centos-64-x64 16:46:06$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.NLdd44
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1dcqqg3 centos-64-x64:/tmp/apply_manifest.pp.NLdd44 {}
[00;00m[00;37m
centos-64-x64 16:46:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NLdd44
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532365'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify checkout is NOT shallow
[00;00m[00;37m
centos-64-x64 16:46:07$  ls /tmp/vcsrepo.Om0C1R/testrepo_shallow_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:07$  rm -fr /tmp/vcsrepo.Om0C1R  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/shallow_clone/shallow_clone_zero_depth.rb passed in 2.63 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/tag_checkout_file.rb
[00;00m[01;37m
C3445 - checkout a tag (file protocol)
[00;00m[00;37m
centos-64-x64 16:46:07$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.yojaGR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:07$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.yojaGR {}
[00;00m[00;37m
centos-64-x64 16:46:07$  cd /tmp/vcsrepo.yojaGR && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.yojaGR/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) f60671c] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master dc114a8] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 9d84a06] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 9dc6363] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch d992142] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch c8ba245] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout a tag with puppet
[00;00m[00;37m
centos-64-x64 16:46:07$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.sNYw12
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-pj8jni centos-64-x64:/tmp/apply_manifest.pp.sNYw12 {}
[00;00m[00;37m
centos-64-x64 16:46:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.sNYw12
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532366'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.yojaGR/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.yojaGR/testrepo_tag_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.55 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.36 seconds
[00;00m[00;37m
centos-64-x64 16:46:09$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.RcFGh6
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-c0cyor centos-64-x64:/tmp/apply_manifest.pp.RcFGh6 {}
[00;00m[00;37m
centos-64-x64 16:46:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RcFGh6
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532367'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.59 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.38 seconds
[00;00m[01;37m
  * verify checkout out tag is 0.0.2
[00;00m[00;37m
centos-64-x64 16:46:10$  ls /tmp/vcsrepo.yojaGR/testrepo_tag_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:10$  git --git-dir=/tmp/vcsrepo.yojaGR/testrepo_tag_checkout/.git name-rev HEAD  
[00;00m[01;30mHEAD tags/0.0.2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:10$  rm -fr /tmp/vcsrepo.yojaGR  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/tag_checkout/tag_checkout_file.rb passed in 3.13 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/tag_checkout_file_path.rb
[00;00m[01;37m
C3444 - checkout a tag (file path)
[00;00m[00;37m
centos-64-x64 16:46:10$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.ZsFwWw
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:10$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.ZsFwWw {}
[00;00m[00;37m
centos-64-x64 16:46:10$  cd /tmp/vcsrepo.ZsFwWw && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.ZsFwWw/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 75b7b56] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master ba51bca] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master aa8e273] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch b7284b2] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6d2a2a8] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a2a7686] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout a tag with puppet
[00;00m[00;37m
centos-64-x64 16:46:10$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.YgWHYR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-vz4vl7 centos-64-x64:/tmp/apply_manifest.pp.YgWHYR {}
[00;00m[00;37m
centos-64-x64 16:46:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YgWHYR
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532369'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ZsFwWw/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ZsFwWw/testrepo_tag_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.59 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.43 seconds
[00;00m[00;37m
centos-64-x64 16:46:12$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.kmELVv
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-138cfxo centos-64-x64:/tmp/apply_manifest.pp.kmELVv {}
[00;00m[00;37m
centos-64-x64 16:46:12$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kmELVv
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532371'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.63 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.50 seconds
[00;00m[01;37m
  * verify checkout out tag is 0.0.2
[00;00m[00;37m
centos-64-x64 16:46:13$  ls /tmp/vcsrepo.ZsFwWw/testrepo_tag_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:13$  git --git-dir=/tmp/vcsrepo.ZsFwWw/testrepo_tag_checkout/.git name-rev HEAD  
[00;00m[01;30mHEAD tags/0.0.2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:13$  rm -fr /tmp/vcsrepo.ZsFwWw  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/tag_checkout/tag_checkout_file_path.rb passed in 3.32 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/tag_checkout_git.rb
[00;00m[01;37m
C3443 - checkout a tag (git protocol)
[00;00m[00;37m
centos-64-x64 16:46:13$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.FUV5JQ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:13$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.FUV5JQ {}
[00;00m[00;37m
centos-64-x64 16:46:14$  cd /tmp/vcsrepo.FUV5JQ && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.FUV5JQ/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 7187901] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 33bddd4] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master ac064c2] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch fdd4deb] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 777ad02] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 5432185] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:46:14$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-daemon-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37m
centos-64-x64 16:46:14$  git daemon --base-path=/tmp/vcsrepo.FUV5JQ  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * get tag sha from repo
[00;00m[00;37m
centos-64-x64 16:46:14$  git --git-dir=/tmp/vcsrepo.FUV5JQ/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m7187901786018644f1b883b27de61ca044423e41
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a tag with puppet
[00;00m[00;37m
centos-64-x64 16:46:14$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.nZI2HN
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-13noefm centos-64-x64:/tmp/apply_manifest.pp.nZI2HN {}
[00;00m[00;37m
centos-64-x64 16:46:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.nZI2HN
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532373'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.FUV5JQ/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.FUV5JQ/testrepo_tag_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.66 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.49 seconds
[00;00m[00;37m
centos-64-x64 16:46:16$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.SNuy6q
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1qz9p84 centos-64-x64:/tmp/apply_manifest.pp.SNuy6q {}
[00;00m[00;37m
centos-64-x64 16:46:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.SNuy6q
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532374'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.59 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.44 seconds
[00;00m[01;37m
  * verify checkout out tag is 0.0.2
[00;00m[00;37m
centos-64-x64 16:46:17$  ls /tmp/vcsrepo.FUV5JQ/testrepo_tag_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:17$  git --git-dir=/tmp/vcsrepo.FUV5JQ/testrepo_tag_checkout/.git name-rev HEAD  
[00;00m[01;30mHEAD tags/0.0.2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:17$  rm -fr /tmp/vcsrepo.FUV5JQ  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:17$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/tag_checkout/tag_checkout_git.rb passed in 3.66 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/tag_checkout_http.rb
[00;00m[01;37m
C3448 - checkout a tag (http protocol)
[00;00m[00;37m
centos-64-x64 16:46:17$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.nnPk1s
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:17$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.nnPk1s {}
[00;00m[00;37m
centos-64-x64 16:46:17$  cd /tmp/vcsrepo.nnPk1s && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.nnPk1s/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 982fb86] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master a9d1957] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 203db6c] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 4f857ae] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 5c542d5] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 77bb6f5] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start http server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-12o5y4g centos-64-x64:/tmp/http_daemon.rb {}
[00;00m[00;37m
centos-64-x64 16:46:17$  ruby /tmp/http_daemon.rb  
[00;00m[01;30m[2014-05-19 20:46:16] INFO  WEBrick 1.3.1
[00;00m[01;30m[2014-05-19 20:46:16] INFO  ruby 1.8.7 (2011-06-30) [x86_64-linux]
[00;00m[01;30m[2014-05-19 20:46:16] WARN  TCPServer Error: Address already in use - bind(2)
[00;00m[00;37m
centos-64-x64 executed in 0.12 seconds
[00;00m[01;37m
  * get tag sha from repo
[00;00m[00;37m
centos-64-x64 16:46:18$  git --git-dir=/tmp/vcsrepo.nnPk1s/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m982fb86213aeac0ecc0d9e4ed8ddd753aff10dfc
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a tag with puppet
[00;00m[00;37m
centos-64-x64 16:46:18$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.bl4nmZ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1k6vzk centos-64-x64:/tmp/apply_manifest.pp.bl4nmZ {}
[00;00m[00;37m
centos-64-x64 16:46:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bl4nmZ
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532376'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.nnPk1s/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.nnPk1s/testrepo_tag_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.91 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.72 seconds
[00;00m[00;37m
centos-64-x64 16:46:19$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.bvdnTR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1g0e09s centos-64-x64:/tmp/apply_manifest.pp.bvdnTR {}
[00;00m[00;37m
centos-64-x64 16:46:19$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.bvdnTR
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532378'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.82 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.63 seconds
[00;00m[01;37m
  * verify checkout out tag is 0.0.2
[00;00m[00;37m
centos-64-x64 16:46:21$  ls /tmp/vcsrepo.nnPk1s/testrepo_tag_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:21$  git --git-dir=/tmp/vcsrepo.nnPk1s/testrepo_tag_checkout/.git name-rev HEAD  
[00;00m[01;30mHEAD tags/0.0.2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:21$  rm -fr /tmp/vcsrepo.nnPk1s  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:21$  ps ax | grep 'ruby /tmp/http_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/tag_checkout/tag_checkout_http.rb passed in 3.92 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/tag_checkout_https.rb
[00;00m[01;37m
C3449 - checkout a tag (https protocol)
[00;00m[00;37m
centos-64-x64 16:46:21$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.H22Iby
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:21$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.H22Iby {}
[00;00m[00;37m
centos-64-x64 16:46:21$  cd /tmp/vcsrepo.H22Iby && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.H22Iby/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 35c3b8d] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 500b333] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master d82ee60] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch f7bee77] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 241a74c] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 396ced9] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start https server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1utdb8c centos-64-x64:/tmp/https_daemon.rb {}
[00;00m[01;37m
  * get tag sha from repo
[00;00m[00;37m
centos-64-x64 16:46:21$  git --git-dir=/tmp/vcsrepo.H22Iby/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m35c3b8d9eb18be58b5ee3ac7188c947ade6d6f7a
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a tag with puppet
[00;00m[00;37m
centos-64-x64 16:46:21$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.fWmAUJ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-snd8bp centos-64-x64:/tmp/apply_manifest.pp.fWmAUJ {}
[00;00m[00;37m
centos-64-x64 16:46:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fWmAUJ
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532380'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.H22Iby/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.H22Iby/testrepo_tag_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 11.44 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.33 seconds
[00;00m[00;37m
centos-64-x64 16:46:34$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.CEHAls
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-zau4f centos-64-x64:/tmp/apply_manifest.pp.CEHAls {}
[00;00m[00;37m
centos-64-x64 16:46:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CEHAls
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532392'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 11.52 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 12.32 seconds
[00;00m[01;37m
  * verify checkout out tag is 0.0.2
[00;00m[00;37m
centos-64-x64 16:46:46$  ls /tmp/vcsrepo.H22Iby/testrepo_tag_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:46$  git --git-dir=/tmp/vcsrepo.H22Iby/testrepo_tag_checkout/.git name-rev HEAD  
[00;00m[01;30mHEAD tags/0.0.2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:46$  rm -fr /tmp/vcsrepo.H22Iby  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:46$  ps ax | grep 'ruby /tmp/https_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/tag_checkout/tag_checkout_https.rb passed in 25.08 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/tag_checkout_scp.rb
[00;00m[01;37m
C3446 - checkout a tag (ssh protocol, scp syntax)
[00;00m[00;37m
centos-64-x64 16:46:46$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.5onLPU
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:46$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.5onLPU {}
[00;00m[00;37m
centos-64-x64 16:46:46$  cd /tmp/vcsrepo.5onLPU && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.5onLPU/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 1af5c4f] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master c93493e] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 11c9956] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 808a393] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 4a00a2a] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 099fa7c] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:46:46$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.08 seconds
[00;00m[00;37m
centos-64-x64 16:46:46$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:46$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * get tag sha from repo
[00;00m[00;37m
centos-64-x64 16:46:46$  git --git-dir=/tmp/vcsrepo.5onLPU/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30m1af5c4fdcb8573f679760dcf7da6502cdae2c53f
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a tag with puppet (scp syntax)
[00;00m[00;37m
centos-64-x64 16:46:46$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.IxL2tR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1lxnkju centos-64-x64:/tmp/apply_manifest.pp.IxL2tR {}
[00;00m[00;37m
centos-64-x64 16:46:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IxL2tR
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532405'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5onLPU/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.5onLPU/testrepo.git /tmp/vcsrepo.5onLPU/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5onLPU/testrepo_tag_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.5onLPU/testrepo.git /tmp/vcsrepo.5onLPU/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.33 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.15 seconds
[00;00m[00;37m
centos-64-x64 16:46:48$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.CGeDP2
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-e9b367 centos-64-x64:/tmp/apply_manifest.pp.CGeDP2 {}
[00;00m[00;37m
centos-64-x64 16:46:48$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CGeDP2
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532406'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5onLPU/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.5onLPU/testrepo.git /tmp/vcsrepo.5onLPU/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5onLPU/testrepo_tag_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.5onLPU/testrepo.git /tmp/vcsrepo.5onLPU/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.17 seconds
[00;00m[01;37m
  * verify checkout out tag is 0.0.2
[00;00m[00;37m
centos-64-x64 16:46:49$  ls /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_scp.rb:51
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_scp.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_scp.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_scp.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:46:49$  rm -fr /tmp/vcsrepo.5onLPU  
[00;00m[00;37m
centos-64-x64 executed in 0.03 seconds
[00;00m[00;37m
centos-64-x64 16:46:49$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.lGaiJU
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ltjrnu centos-64-x64:/tmp/apply_manifest.pp.lGaiJU {}
[00;00m[00;37m
centos-64-x64 16:46:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.lGaiJU
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532408'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 2a883d02be094bc50a87eb7696d54e01[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.80 seconds
[00;00m[00;37m
centos-64-x64 16:46:50$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Q2THSx
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-4yrmn9 centos-64-x64:/tmp/apply_manifest.pp.Q2THSx {}
[00;00m[00;37m
centos-64-x64 16:46:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Q2THSx
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532408'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 05ce9cd020242ad0bc1e9c1cd29e0fc5[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.81 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/tag_checkout/tag_checkout_scp.rb errored in 4.48 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/tag_checkout_ssh.rb
[00;00m[01;37m
C3447 - checkout a tag (ssh protocol)
[00;00m[00;37m
centos-64-x64 16:46:51$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.VU03Y6
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:51$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.VU03Y6 {}
[00;00m[00;37m
centos-64-x64 16:46:51$  cd /tmp/vcsrepo.VU03Y6 && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.VU03Y6/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) fadc261] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 6a5c811] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master b675c8e] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 8c094e8] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 5adf146] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch cd4d53e] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:46:51$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.22 seconds
[00;00m[00;37m
centos-64-x64 16:46:51$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:51$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * get tag sha from repo
[00;00m[00;37m
centos-64-x64 16:46:51$  git --git-dir=/tmp/vcsrepo.VU03Y6/testrepo.git rev-list HEAD | tail -1  
[00;00m[01;30mfadc2619b618941e5354dd858d1c9f53ea7ef9ba
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout a tag with puppet
[00;00m[00;37m
centos-64-x64 16:46:51$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.YAG5ZM
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1cj1evx centos-64-x64:/tmp/apply_manifest.pp.YAG5ZM {}
[00;00m[00;37m
centos-64-x64 16:46:51$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.YAG5ZM
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532410'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.VU03Y6/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.VU03Y6/testrepo.git /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.VU03Y6/testrepo_tag_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.VU03Y6/testrepo.git /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.33 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.16 seconds
[00;00m[00;37m
centos-64-x64 16:46:52$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Xubas6
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-6e7x8i centos-64-x64:/tmp/apply_manifest.pp.Xubas6 {}
[00;00m[00;37m
centos-64-x64 16:46:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Xubas6
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532411'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.VU03Y6/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.VU03Y6/testrepo.git /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.VU03Y6/testrepo_tag_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.VU03Y6/testrepo.git /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.32 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.14 seconds
[00;00m[01;37m
  * verify checkout out tag is 0.0.2
[00;00m[00;37m
centos-64-x64 16:46:53$  ls /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_ssh.rb:51
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_ssh.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_ssh.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/tag_checkout/tag_checkout_ssh.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:46:53$  rm -fr /tmp/vcsrepo.VU03Y6  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:53$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.46Cwpn
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ksfj7k centos-64-x64:/tmp/apply_manifest.pp.46Cwpn {}
[00;00m[00;37m
centos-64-x64 16:46:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.46Cwpn
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532412'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum be8431e6bb13e2dada0ae966e85f73bb[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.82 seconds
[00;00m[00;37m
centos-64-x64 16:46:54$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.CqX6gZ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1mwtjfp centos-64-x64:/tmp/apply_manifest.pp.CqX6gZ {}
[00;00m[00;37m
centos-64-x64 16:46:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CqX6gZ
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532413'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 0f1390abe525674ecaa55852c2af0812[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.79 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/tag_checkout/tag_checkout_ssh.rb errored in 4.58 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/user_checkout_file.rb
[00;00m[01;37m
C3459 - checkout as a user (file protocol)
[00;00m[00;37m
centos-64-x64 16:46:55$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.NYQT3A
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:46:55$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.NYQT3A {}
[00;00m[00;37m
centos-64-x64 16:46:55$  cd /tmp/vcsrepo.NYQT3A && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.NYQT3A/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 33aecc5] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master fc12cba] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 984db3c] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 69e5e94] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 727e142] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 8801357] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - create user
[00;00m[00;37m
centos-64-x64 16:46:55$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.hgcSkH
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-16lfi3e centos-64-x64:/tmp/apply_manifest.pp.hgcSkH {}
[00;00m[00;37m
centos-64-x64 16:46:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hgcSkH
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532414'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.83 seconds
[00;00m[01;37m
  * checkout as a user with puppet
[00;00m[00;37m
centos-64-x64 16:46:56$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.uqiUPk
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-11ill1u centos-64-x64:/tmp/apply_manifest.pp.uqiUPk {}
[00;00m[00;37m
centos-64-x64 16:46:56$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.uqiUPk
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532415'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.NYQT3A/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.NYQT3A/testrepo_user_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.20 seconds
[00;00m[00;37m
centos-64-x64 16:46:58$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.FJtBks
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1l6mm5k centos-64-x64:/tmp/apply_manifest.pp.FJtBks {}
[00;00m[00;37m
centos-64-x64 16:46:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.FJtBks
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532416'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify git checkout is owned by user myuser
[00;00m[00;37m
centos-64-x64 16:46:59$  ls /tmp/vcsrepo.NYQT3A/testrepo_user_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:59$  stat --format '%U:%G' /tmp/vcsrepo.NYQT3A/testrepo_user_checkout/.git/HEAD  
[00;00m[01;30mmyuser:root
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:59$  rm -fr /tmp/vcsrepo.NYQT3A  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:46:59$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.rq7CWv
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-wqxrbz centos-64-x64:/tmp/apply_manifest.pp.rq7CWv {}
[00;00m[00;37m
centos-64-x64 16:46:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rq7CWv
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532417'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.06 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.88 seconds
[00;00m[00;32mspec/acceptance/beaker/git/user_checkout/user_checkout_file.rb passed in 4.37 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/user_checkout_file_path.rb
[00;00m[01;37m
C3458 - checkout as a user (file path)
[00;00m[00;37m
centos-64-x64 16:46:59$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.5z6RhC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:00$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.5z6RhC {}
[00;00m[00;37m
centos-64-x64 16:47:00$  cd /tmp/vcsrepo.5z6RhC && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.5z6RhC/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 253d05a] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 9484bde] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 3887350] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 6f52757] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch bfb921a] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 17e37aa] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - create user
[00;00m[00;37m
centos-64-x64 16:47:00$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.RP6adC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-odh0qm centos-64-x64:/tmp/apply_manifest.pp.RP6adC {}
[00;00m[00;37m
centos-64-x64 16:47:00$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RP6adC
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532419'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.82 seconds
[00;00m[01;37m
  * checkout a user with puppet
[00;00m[00;37m
centos-64-x64 16:47:01$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.NI7ngW
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1g7c4hw centos-64-x64:/tmp/apply_manifest.pp.NI7ngW {}
[00;00m[00;37m
centos-64-x64 16:47:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.NI7ngW
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532419'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5z6RhC/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.5z6RhC/testrepo_user_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.37 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.21 seconds
[00;00m[00;37m
centos-64-x64 16:47:02$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ZkaOnB
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-4ag2jh centos-64-x64:/tmp/apply_manifest.pp.ZkaOnB {}
[00;00m[00;37m
centos-64-x64 16:47:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZkaOnB
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532421'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.07 seconds
[00;00m[01;37m
  * verify git checkout is owned by user myuser
[00;00m[00;37m
centos-64-x64 16:47:03$  ls /tmp/vcsrepo.5z6RhC/testrepo_user_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:03$  stat --format '%U:%G' /tmp/vcsrepo.5z6RhC/testrepo_user_checkout/.git/HEAD  
[00;00m[01;30mmyuser:root
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:03$  rm -fr /tmp/vcsrepo.5z6RhC  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:03$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.TkamEP
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1b4ibbf centos-64-x64:/tmp/apply_manifest.pp.TkamEP {}
[00;00m[00;37m
centos-64-x64 16:47:03$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.TkamEP
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532422'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.06 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.85 seconds
[00;00m[00;32mspec/acceptance/beaker/git/user_checkout/user_checkout_file_path.rb passed in 4.38 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/user_checkout_git.rb
[00;00m[01;37m
C3457 - checkout as a user (git protocol)
[00;00m[00;37m
centos-64-x64 16:47:04$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.CXRpmT
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:04$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.CXRpmT {}
[00;00m[00;37m
centos-64-x64 16:47:04$  cd /tmp/vcsrepo.CXRpmT && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.CXRpmT/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 2604651] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master f35fbb6] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 95b2d90] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 891776a] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6b489f9] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 9e6471b] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:47:04$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-daemon-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37m
centos-64-x64 16:47:04$  git daemon --base-path=/tmp/vcsrepo.CXRpmT  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create user
[00;00m[00;37m
centos-64-x64 16:47:05$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.jn04JK
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-raypll centos-64-x64:/tmp/apply_manifest.pp.jn04JK {}
[00;00m[00;37m
centos-64-x64 16:47:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.jn04JK
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532423'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.07 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.85 seconds
[00;00m[01;37m
  * checkout a user with puppet
[00;00m[00;37m
centos-64-x64 16:47:05$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.63vnrM
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-13v1b8n centos-64-x64:/tmp/apply_manifest.pp.63vnrM {}
[00;00m[00;37m
centos-64-x64 16:47:05$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.63vnrM
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532424'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.CXRpmT/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.CXRpmT/testrepo_user_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.43 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.26 seconds
[00;00m[00;37m
centos-64-x64 16:47:07$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ziK5ou
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-xbs7im centos-64-x64:/tmp/apply_manifest.pp.ziK5ou {}
[00;00m[00;37m
centos-64-x64 16:47:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ziK5ou
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532425'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify git checkout is owned by user myuser
[00;00m[00;37m
centos-64-x64 16:47:08$  ls /tmp/vcsrepo.CXRpmT/testrepo_user_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:08$  stat --format '%U:%G' /tmp/vcsrepo.CXRpmT/testrepo_user_checkout/.git/HEAD  
[00;00m[01;30mmyuser:root
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:08$  rm -fr /tmp/vcsrepo.CXRpmT  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:08$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:08$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.OFLY3Y
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-dieq84 centos-64-x64:/tmp/apply_manifest.pp.OFLY3Y {}
[00;00m[00;37m
centos-64-x64 16:47:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.OFLY3Y
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532427'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.06 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[00;32mspec/acceptance/beaker/git/user_checkout/user_checkout_git.rb passed in 4.73 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/user_checkout_http.rb
[00;00m[01;37m
C3462 - checkout as a user (http protocol)
[00;00m[00;37m
centos-64-x64 16:47:09$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.7jz56g
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:09$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.7jz56g {}
[00;00m[00;37m
centos-64-x64 16:47:09$  cd /tmp/vcsrepo.7jz56g && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.7jz56g/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 8e64fda] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 65bc610] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master ef24f8c] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch e8ccd64] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch c9c2efa] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch dc7537c] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start http server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-saa375 centos-64-x64:/tmp/http_daemon.rb {}
[00;00m[00;37m
centos-64-x64 16:47:09$  ruby /tmp/http_daemon.rb  
[00;00m[01;30m[2014-05-19 20:47:07] INFO  WEBrick 1.3.1
[00;00m[01;30m[2014-05-19 20:47:07] INFO  ruby 1.8.7 (2011-06-30) [x86_64-linux]
[00;00m[01;30m[2014-05-19 20:47:07] WARN  TCPServer Error: Address already in use - bind(2)
[00;00m[00;37m
centos-64-x64 executed in 0.10 seconds
[00;00m[01;37m
  * setup - create user
[00;00m[00;37m
centos-64-x64 16:47:09$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Gm5dgy
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-10mshol centos-64-x64:/tmp/apply_manifest.pp.Gm5dgy {}
[00;00m[00;37m
centos-64-x64 16:47:09$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Gm5dgy
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532428'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.82 seconds
[00;00m[01;37m
  * checkout a user with puppet
[00;00m[00;37m
centos-64-x64 16:47:10$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.H7rVDq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ahl54a centos-64-x64:/tmp/apply_manifest.pp.H7rVDq {}
[00;00m[00;37m
centos-64-x64 16:47:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.H7rVDq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532429'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.7jz56g/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.7jz56g/testrepo_user_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.73 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.56 seconds
[00;00m[00;37m
centos-64-x64 16:47:11$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.rUSdCN
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-z5qcxu centos-64-x64:/tmp/apply_manifest.pp.rUSdCN {}
[00;00m[00;37m
centos-64-x64 16:47:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.rUSdCN
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532430'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify git checkout is owned by user myuser
[00;00m[00;37m
centos-64-x64 16:47:13$  ls /tmp/vcsrepo.7jz56g/testrepo_user_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:13$  stat --format '%U:%G' /tmp/vcsrepo.7jz56g/testrepo_user_checkout/.git/HEAD  
[00;00m[01;30mmyuser:root
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:13$  rm -fr /tmp/vcsrepo.7jz56g  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:13$  ps ax | grep 'ruby /tmp/http_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:13$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.hTW4bF
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-i19gs2 centos-64-x64:/tmp/apply_manifest.pp.hTW4bF {}
[00;00m[00;37m
centos-64-x64 16:47:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.hTW4bF
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.10 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532431'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.06 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.85 seconds
[00;00m[00;32mspec/acceptance/beaker/git/user_checkout/user_checkout_http.rb passed in 4.83 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/user_checkout_https.rb
[00;00m[01;37m
C3463 - checkout as a user (https protocol)
[00;00m[00;37m
centos-64-x64 16:47:13$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.pTEGSY
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:13$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.pTEGSY {}
[00;00m[00;37m
centos-64-x64 16:47:14$  cd /tmp/vcsrepo.pTEGSY && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.pTEGSY/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 959ff1d] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 9b79660] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master fda7bc7] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 8a97c4e] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch d7b0c3f] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a68386e] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start https server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-11m0dms centos-64-x64:/tmp/https_daemon.rb {}
[00;00m[01;37m
  * setup - create user
[00;00m[00;37m
centos-64-x64 16:47:14$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.4td844
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-jdwuf6 centos-64-x64:/tmp/apply_manifest.pp.4td844 {}
[00;00m[00;37m
centos-64-x64 16:47:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.4td844
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532433'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[01;37m
  * checkout as a user with puppet
[00;00m[00;37m
centos-64-x64 16:47:15$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.WhAGnq
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-14svlqb centos-64-x64:/tmp/apply_manifest.pp.WhAGnq {}
[00;00m[00;37m
centos-64-x64 16:47:15$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.WhAGnq
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532433'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.pTEGSY/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.pTEGSY/testrepo_user_checkout]/ensure: created[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 11.10 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 11.94 seconds
[00;00m[00;37m
centos-64-x64 16:47:27$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Wa7kGN
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-kjkp4j centos-64-x64:/tmp/apply_manifest.pp.Wa7kGN {}
[00;00m[00;37m
centos-64-x64 16:47:27$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Wa7kGN
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532445'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.03 seconds
[00;00m[01;37m
  * verify git checkout is owned by user myuser
[00;00m[00;37m
centos-64-x64 16:47:28$  ls /tmp/vcsrepo.pTEGSY/testrepo_user_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:28$  stat --format '%U:%G' /tmp/vcsrepo.pTEGSY/testrepo_user_checkout/.git/HEAD  
[00;00m[01;30mmyuser:root
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:28$  rm -fr /tmp/vcsrepo.pTEGSY  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:28$  ps ax | grep 'ruby /tmp/https_daemon.rb' | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.02 seconds
[00;00m[00;37m
centos-64-x64 16:47:28$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ep8Y19
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1fcm98d centos-64-x64:/tmp/apply_manifest.pp.ep8Y19 {}
[00;00m[00;37m
centos-64-x64 16:47:28$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ep8Y19
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532446'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.06 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[00;32mspec/acceptance/beaker/git/user_checkout/user_checkout_https.rb passed in 15.10 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/user_checkout_scp.rb
[00;00m[01;37m
C3460 - checkout as a user (ssh protocol, scp syntax)
[00;00m[00;37m
centos-64-x64 16:47:29$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.srlF3l
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:29$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.srlF3l {}
[00;00m[00;37m
centos-64-x64 16:47:29$  cd /tmp/vcsrepo.srlF3l && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.srlF3l/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 60c30f8] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 52e446a] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 648f483] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch c2c0644] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 1805a79] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch a713be7] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:47:29$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.07 seconds
[00;00m[00;37m
centos-64-x64 16:47:29$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:29$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create user
[00;00m[00;37m
centos-64-x64 16:47:29$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.IkZ5Ni
[00;00m[00;37m
centos-64-x64 executed in 0.03 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1ndw83q centos-64-x64:/tmp/apply_manifest.pp.IkZ5Ni {}
[00;00m[00;37m
centos-64-x64 16:47:29$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.IkZ5Ni
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532448'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.82 seconds
[00;00m[01;37m
  * checkout as a user with puppet (scp syntax)
[00;00m[00;37m
centos-64-x64 16:47:30$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.56O6aV
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-twyoho centos-64-x64:/tmp/apply_manifest.pp.56O6aV {}
[00;00m[00;37m
centos-64-x64 16:47:30$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.56O6aV
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532449'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.srlF3l/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.srlF3l/testrepo.git /tmp/vcsrepo.srlF3l/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.srlF3l/testrepo_user_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.srlF3l/testrepo.git /tmp/vcsrepo.srlF3l/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.35 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.19 seconds
[00;00m[00;37m
centos-64-x64 16:47:31$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ERkEw1
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-64t3w8 centos-64-x64:/tmp/apply_manifest.pp.ERkEw1 {}
[00;00m[00;37m
centos-64-x64 16:47:31$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ERkEw1
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532450'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.srlF3l/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.srlF3l/testrepo.git /tmp/vcsrepo.srlF3l/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly[00;00m[01;30m
[00;00m[01;30mError: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.srlF3l/testrepo_user_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone root@centos-64-x64:/tmp/vcsrepo.srlF3l/testrepo.git /tmp/vcsrepo.srlF3l/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.18 seconds
[00;00m[01;37m
  * verify git checkout is owned by user myuser
[00;00m[00;37m
centos-64-x64 16:47:32$  ls /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_scp.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_scp.rb:49
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_scp.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_scp.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:47:32$  rm -fr /tmp/vcsrepo.srlF3l  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:32$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.DCa02m
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1mzqni5 centos-64-x64:/tmp/apply_manifest.pp.DCa02m {}
[00;00m[00;37m
centos-64-x64 16:47:32$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DCa02m
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532451'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum c87bbdd300e990e4e9947634f66cd2ad[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.80 seconds
[00;00m[00;37m
centos-64-x64 16:47:33$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.QFco4l
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ujlann centos-64-x64:/tmp/apply_manifest.pp.QFco4l {}
[00;00m[00;37m
centos-64-x64 16:47:33$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QFco4l
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532452'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum c16af834e53a705f56dee2e5c617d23f[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.81 seconds
[00;00m[00;37m
centos-64-x64 16:47:34$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.3grbhg
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-eq0mf0 centos-64-x64:/tmp/apply_manifest.pp.3grbhg {}
[00;00m[00;37m
centos-64-x64 16:47:34$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.3grbhg
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532453'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.06 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.85 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/user_checkout/user_checkout_scp.rb errored in 6.22 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/user_checkout_ssh.rb
[00;00m[01;37m
C3461 - checkout as a user (ssh protocol)
[00;00m[00;37m
centos-64-x64 16:47:35$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.ZhuIbc
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:35$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.28 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.ZhuIbc {}
[00;00m[00;37m
centos-64-x64 16:47:35$  cd /tmp/vcsrepo.ZhuIbc && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.ZhuIbc/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) d863ca4] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 83ab70d] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 7f0a307] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 0d16bdc] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch cdf4a3c] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 21559ea] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - establish ssh keys
[00;00m[00;37m
centos-64-x64 16:47:35$  ssh-keygen -q -t rsa -f /root/.ssh/id_rsa -N ""  
[00;00m[00;37m
centos-64-x64 executed in 0.06 seconds
[00;00m[00;37m
centos-64-x64 16:47:35$  echo -e "Host *\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:35$  chown -R root:root /root/.ssh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create user
[00;00m[00;37m
centos-64-x64 16:47:35$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.OoCJ1O
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ksty6i centos-64-x64:/tmp/apply_manifest.pp.OoCJ1O {}
[00;00m[00;37m
centos-64-x64 16:47:35$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.OoCJ1O
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532454'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.05 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[01;37m
  * checkout as a user with puppet
[00;00m[00;37m
centos-64-x64 16:47:36$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ZRf6EQ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-15i59s2 centos-64-x64:/tmp/apply_manifest.pp.ZRf6EQ {}
[00;00m[00;37m
centos-64-x64 16:47:36$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZRf6EQ
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532455'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ZhuIbc/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.ZhuIbc/testrepo.git /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ZhuIbc/testrepo_user_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.ZhuIbc/testrepo.git /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.18 seconds
[00;00m[00;37m
centos-64-x64 16:47:37$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.cpWteX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1p360xx centos-64-x64:/tmp/apply_manifest.pp.cpWteX {}
[00;00m[00;37m
centos-64-x64 16:47:37$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.cpWteX
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532456'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ZhuIbc/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.ZhuIbc/testrepo.git /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ZhuIbc/testrepo_user_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone ssh://root@centos-64-x64/tmp/vcsrepo.ZhuIbc/testrepo.git /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout' returned 128: Initialized empty Git repository in /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
fatal: The remote end hung up unexpectedly
[00;00m[01;30m[mNotice: Finished catalog run in 0.34 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.16 seconds
[00;00m[01;37m
  * verify git checkout is owned by user myuser
[00;00m[00;37m
centos-64-x64 16:47:38$  ls /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/  
[00;00m[01;30mls: cannot access /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/: No such file or directory
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mExited: 2
[00;00m[01;31m#<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/: No such file or directory>
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_ssh.rb:50
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_ssh.rb:49
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_ssh.rb:7
[00;00m[01;31m/Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/beaker/git/user_checkout/user_checkout_ssh.rb:7
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/lib/ruby/gems/1.9.1/gems/beaker-1.11.1/bin/beaker:6
[00;00m[00;37m
centos-64-x64 16:47:38$  rm -fr /tmp/vcsrepo.ZhuIbc  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:38$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.EBg4zX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1o4dca1 centos-64-x64:/tmp/apply_manifest.pp.EBg4zX {}
[00;00m[00;37m
centos-64-x64 16:47:38$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.EBg4zX
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532457'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa]: Filebucketed /root/.ssh/id_rsa to puppet with sum 5b6484c12fc6e7452895f99c3466837c[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.83 seconds
[00;00m[00;37m
centos-64-x64 16:47:39$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.c4f4oU
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1bv47ur centos-64-x64:/tmp/apply_manifest.pp.c4f4oU {}
[00;00m[00;37m
centos-64-x64 16:47:39$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.c4f4oU
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.07 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532458'[00;00m[01;30m
[00;00m[01;30mInfo: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]: Filebucketed /root/.ssh/id_rsa.pub to puppet with sum 22a31302db9913c349e583649f4f5a06[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/File[/root/.ssh/id_rsa.pub]/ensure: removed[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.81 seconds
[00;00m[00;37m
centos-64-x64 16:47:40$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.6P6RJS
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-cjxjst centos-64-x64:/tmp/apply_manifest.pp.6P6RJS {}
[00;00m[00;37m
centos-64-x64 16:47:40$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6P6RJS
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.09 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532459'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/User[myuser]/ensure: removed
[00;00m[01;30m[mNotice: Finished catalog run in 0.07 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.84 seconds
[00;00m[00;33mWarning: spec/acceptance/beaker/git/user_checkout/user_checkout_ssh.rb errored in 6.20 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/basic_auth/negative/basic_auth_checkout_git.rb
[00;00m[01;37m
C3494 - checkout with basic auth (git protocol)
[00;00m[00;37m
centos-64-x64 16:47:41$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.1lpQxG
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:41$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.1lpQxG {}
[00;00m[00;37m
centos-64-x64 16:47:41$  cd /tmp/vcsrepo.1lpQxG && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.1lpQxG/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 1e3793e] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master c37db1c] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 6dc2fcb] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 5d9bd88] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 6c430bf] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 021f288] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start git daemon
[00;00m[00;37m
centos-64-x64 16:47:41$  yum -y  install git-daemon  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-daemon-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.29 seconds
[00;00m[00;37m
centos-64-x64 16:47:42$  git daemon --base-path=/tmp/vcsrepo.1lpQxG  --export-all --reuseaddr --verbose --detach  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * checkout with puppet using basic auth
[00;00m[00;37m
centos-64-x64 16:47:42$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.7MvUEc
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-74dxch centos-64-x64:/tmp/apply_manifest.pp.7MvUEc {}
[00;00m[00;37m
centos-64-x64 16:47:42$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7MvUEc
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532460'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.1lpQxG/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.1lpQxG/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.43 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.28 seconds
[00;00m[00;37m
centos-64-x64 16:47:43$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.j78RWy
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-mfscj3 centos-64-x64:/tmp/apply_manifest.pp.j78RWy {}
[00;00m[00;37m
centos-64-x64 16:47:43$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.j78RWy
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532462'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify checkout (silent error for basic auth using git protocol)
[00;00m[00;37m
centos-64-x64 16:47:44$  ls /tmp/vcsrepo.1lpQxG/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:44$  rm -fr /tmp/vcsrepo.1lpQxG  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:44$  pkill -9 git-daemon  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/basic_auth/negative/basic_auth_checkout_git.rb passed in 3.01 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/branch_checkout/negative/branch_checkout_not_exists.rb
[00;00m[01;37m
C3609 - checkout a branch that does not exist
[00;00m[00;37m
centos-64-x64 16:47:44$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.0mhEoK
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:44$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.0mhEoK {}
[00;00m[00;37m
centos-64-x64 16:47:44$  cd /tmp/vcsrepo.0mhEoK && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.0mhEoK/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 443c7cd] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 5b3b53d] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 6f37d1e] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch cf78891] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch da7c282] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 3db9416] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout branch that does not exist with puppet
[00;00m[00;37m
centos-64-x64 16:47:44$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.wgLLKr
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1tz9cqx centos-64-x64:/tmp/apply_manifest.pp.wgLLKr {}
[00;00m[00;37m
centos-64-x64 16:47:44$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.wgLLKr
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532463'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0mhEoK/testrepo_branch_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git checkout --force non_existent_branch' returned 1: error: pathspec 'non_existent_branch' did not match any file(s) known to git.
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0mhEoK/testrepo_branch_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git checkout --force non_existent_branch' returned 1: error: pathspec 'non_existent_branch' did not match any file(s) known to git.
[00;00m[01;30m[mNotice: Finished catalog run in 0.48 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.29 seconds
[00;00m[00;37m
centos-64-x64 16:47:46$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.kQqvTn
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-yxk8v3 centos-64-x64:/tmp/apply_manifest.pp.kQqvTn {}
[00;00m[00;37m
centos-64-x64 16:47:46$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.kQqvTn
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532464'[00;00m[01;30m
[00;00m[01;30mError: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.0mhEoK/testrepo_branch_checkout]: Could not evaluate: non_existent_branch is not a local or remote ref[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.62 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.41 seconds
[00;00m[01;37m
  * verify that master branch is checked out
[00;00m[00;37m
centos-64-x64 16:47:47$  ls /tmp/vcsrepo.0mhEoK/testrepo_branch_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:47$  cat /tmp/vcsrepo.0mhEoK/testrepo_branch_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:47$  rm -fr /tmp/vcsrepo.0mhEoK  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/branch_checkout/negative/branch_checkout_not_exists.rb passed in 3.11 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/negative/clone_over_different_exiting_repo.rb
[00;00m[01;37m
C3482 - clone over an existing repo
[00;00m[00;37m
centos-64-x64 16:47:47$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.jIxnxQ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:47$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.jIxnxQ {}
[00;00m[00;37m
centos-64-x64 16:47:47$  cd /tmp/vcsrepo.jIxnxQ && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.jIxnxQ/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 93e3640] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master cfd8e31] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 287f153] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 7c52f75] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 8c95f87] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch eab8c1a] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[00;37m
centos-64-x64 16:47:47$  mkdir /tmp/vcsrepo.jIxnxQ/testrepo_already_exists  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:47$  cd /tmp/vcsrepo.jIxnxQ/testrepo_already_exists && git init  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.jIxnxQ/testrepo_already_exists/.git/
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:47$  cd /tmp/vcsrepo.jIxnxQ/testrepo_already_exists && touch a && git add a && git commit -m 'a'  
[00;00m[01;30m[master (root-commit) 273c1c2] a
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 0 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 a
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * clone over existing repo using puppet
[00;00m[00;37m
centos-64-x64 16:47:47$  cd /tmp/vcsrepo.jIxnxQ/testrepo_already_exists && git log --pretty=format:"%h"  
[00;00m[01;30m273c1c2[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:47$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ycWcdx
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-drqx7p centos-64-x64:/tmp/apply_manifest.pp.ycWcdx {}
[00;00m[00;37m
centos-64-x64 16:47:47$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ycWcdx
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532466'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify original repo was not replaced
[00;00m[00;37m
centos-64-x64 16:47:49$  cd /tmp/vcsrepo.jIxnxQ/testrepo_already_exists && git log --pretty=format:"%h"  
[00;00m[01;30m273c1c2[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:49$  rm -fr /tmp/vcsrepo.jIxnxQ  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/clone/negative/clone_over_different_exiting_repo.rb passed in 1.46 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/clone/negative/clone_repo_with_exec_excludes.rb
[00;00m[01;37m
C3509 - clone repo with excludes not in repo
[00;00m[01;37m
expectations not defined
[00;00m[00;37mspec/acceptance/beaker/git/clone/negative/clone_repo_with_exec_excludes.rb skipped in 0.00 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/negative/compression_7_checkout.rb
[00;00m[01;37m
C3503 - checkout with compression 7
[00;00m[00;37m
centos-64-x64 16:47:49$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.ijYwMX
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:49$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.ijYwMX {}
[00;00m[00;37m
centos-64-x64 16:47:49$  cd /tmp/vcsrepo.ijYwMX && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.ijYwMX/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 7450525] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master da8477a] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 07c4255] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch c74f183] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch e0ac965] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 5956ed3] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression 7 with puppet
[00;00m[00;37m
centos-64-x64 16:47:49$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Dv1pKA
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-ii22tg centos-64-x64:/tmp/apply_manifest.pp.Dv1pKA {}
[00;00m[00;37m
centos-64-x64 16:47:49$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Dv1pKA
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532468'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ijYwMX/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ijYwMX/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.23 seconds
[00;00m[00;37m
centos-64-x64 16:47:50$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.ZzgTXS
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-6hsrbs centos-64-x64:/tmp/apply_manifest.pp.ZzgTXS {}
[00;00m[00;37m
centos-64-x64 16:47:50$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.ZzgTXS
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532469'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:47:51$  ls /tmp/vcsrepo.ijYwMX/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:51$  rm -fr /tmp/vcsrepo.ijYwMX  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/negative/compression_7_checkout.rb passed in 2.66 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/negative/compression_alpha_checkout.rb
[00;00m[01;37m
C3505 - checkout with compression alpha
[00;00m[00;37m
centos-64-x64 16:47:51$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.wICyya
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:51$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.wICyya {}
[00;00m[00;37m
centos-64-x64 16:47:51$  cd /tmp/vcsrepo.wICyya && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.wICyya/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 7c3aeaf] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 47dd5dc] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 5c5ea73] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 2bdb28b] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch ba74aa8] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 7de0207] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression alpha with puppet
[00;00m[00;37m
centos-64-x64 16:47:51$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.CHIXCd
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1mi43ku centos-64-x64:/tmp/apply_manifest.pp.CHIXCd {}
[00;00m[00;37m
centos-64-x64 16:47:52$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.CHIXCd
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532470'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.wICyya/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.wICyya/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.20 seconds
[00;00m[00;37m
centos-64-x64 16:47:53$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.EdpHWF
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1m7ht67 centos-64-x64:/tmp/apply_manifest.pp.EdpHWF {}
[00;00m[00;37m
centos-64-x64 16:47:53$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.EdpHWF
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532472'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:47:54$  ls /tmp/vcsrepo.wICyya/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:54$  rm -fr /tmp/vcsrepo.wICyya  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/negative/compression_alpha_checkout.rb passed in 2.61 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/negative/compression_eval_checkout.rb
[00;00m[01;37m
C3504 - checkout with compression 10-5
[00;00m[00;37m
centos-64-x64 16:47:54$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.XMrlAh
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:54$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.XMrlAh {}
[00;00m[00;37m
centos-64-x64 16:47:54$  cd /tmp/vcsrepo.XMrlAh && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.XMrlAh/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) a88e6d1] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master e7e0e93] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 9aa2d76] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 55feaa2] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 905da42] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch b9a44c6] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression 10-5 with puppet
[00;00m[00;37m
centos-64-x64 16:47:54$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.6BhnZv
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1etb8ke centos-64-x64:/tmp/apply_manifest.pp.6BhnZv {}
[00;00m[00;37m
centos-64-x64 16:47:54$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.6BhnZv
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532473'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.XMrlAh/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.XMrlAh/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.40 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.27 seconds
[00;00m[00;37m
centos-64-x64 16:47:55$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.mCrysS
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-oz7ih1 centos-64-x64:/tmp/apply_manifest.pp.mCrysS {}
[00;00m[00;37m
centos-64-x64 16:47:55$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.mCrysS
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532474'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:47:56$  ls /tmp/vcsrepo.XMrlAh/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:56$  rm -fr /tmp/vcsrepo.XMrlAh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/negative/compression_eval_checkout.rb passed in 2.68 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/negative/compression_exec_checkout.rb
[00;00m[01;37m
C3506 - checkout with compression exec
[00;00m[00;37m
centos-64-x64 16:47:56$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.Vnd8Dy
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:56$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.Vnd8Dy {}
[00;00m[00;37m
centos-64-x64 16:47:57$  cd /tmp/vcsrepo.Vnd8Dy && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.Vnd8Dy/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) dedaa4f] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 718032f] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 45e288b] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch f40ff03] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 648ff3f] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch b300132] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression exec with puppet
[00;00m[00;37m
centos-64-x64 16:47:57$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.V1U9HU
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1xse3g8 centos-64-x64:/tmp/apply_manifest.pp.V1U9HU {}
[00;00m[00;37m
centos-64-x64 16:47:57$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.V1U9HU
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532476'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.Vnd8Dy/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.Vnd8Dy/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.21 seconds
[00;00m[00;37m
centos-64-x64 16:47:58$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.xzP5hG
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-7kjcbq centos-64-x64:/tmp/apply_manifest.pp.xzP5hG {}
[00;00m[00;37m
centos-64-x64 16:47:58$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.xzP5hG
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532477'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.23 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:47:59$  ls /tmp/vcsrepo.Vnd8Dy/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:47:59$  rm -fr /tmp/vcsrepo.Vnd8Dy  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/negative/compression_exec_checkout.rb passed in 2.63 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/compression/negative/compression_negative_checkout.rb
[00;00m[01;37m
C3502 - checkout with compression -1
[00;00m[00;37m
centos-64-x64 16:47:59$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.F5Hj2Q
[00;00m[00;37m
centos-64-x64 executed in 0.03 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:47:59$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.F5Hj2Q {}
[00;00m[00;37m
centos-64-x64 16:47:59$  cd /tmp/vcsrepo.F5Hj2Q && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.F5Hj2Q/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) be9c4a6] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 73435d4] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 471fde0] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch b6e683d] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 0f1573f] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 19c0eca] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout with compression -1 with puppet
[00;00m[00;37m
centos-64-x64 16:47:59$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.QYl9SV
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-wwg3gp centos-64-x64:/tmp/apply_manifest.pp.QYl9SV {}
[00;00m[00;37m
centos-64-x64 16:47:59$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.QYl9SV
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532478'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.F5Hj2Q/testrepo_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.F5Hj2Q/testrepo_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.23 seconds
[00;00m[00;37m
centos-64-x64 16:48:01$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.snKkzr
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-voqlv0 centos-64-x64:/tmp/apply_manifest.pp.snKkzr {}
[00;00m[00;37m
centos-64-x64 16:48:01$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.snKkzr
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532479'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify git repo was checked out
[00;00m[00;37m
centos-64-x64 16:48:02$  ls /tmp/vcsrepo.F5Hj2Q/testrepo_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:02$  rm -fr /tmp/vcsrepo.F5Hj2Q  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/compression/negative/compression_negative_checkout.rb passed in 2.67 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/create/negative/create_bare_repo_specifying_revision.rb
[00;00m[01;37m
C3473 - create bare repo specifying revision
[00;00m[00;37m
centos-64-x64 16:48:02$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.4bP4KV
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup
[00;00m[00;37m
centos-64-x64 16:48:02$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[01;37m
  * create bare repo specifying revision using puppet
[00;00m[00;37m
centos-64-x64 16:48:02$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Py22iB
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-165aqtj centos-64-x64:/tmp/apply_manifest.pp.Py22iB {}
[00;00m[00;37m
centos-64-x64 16:48:02$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Py22iB
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532481'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.4bP4KV/testrepo_bare.git]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.29 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.11 seconds
[00;00m[01;37m
  * verify repo does not contain .git directory
[00;00m[00;37m
centos-64-x64 16:48:03$  ls -al /tmp/vcsrepo.4bP4KV/testrepo_bare.git  
[00;00m[01;30mtotal 40
drwxr-xr-x 7 root root 4096 May 19 20:48 .
drwx------ 3 root root 4096 May 19 20:48 ..
drwxr-xr-x 2 root root 4096 May 19 20:48 branches
-rw-r--r-- 1 root root   66 May 19 20:48 config
-rw-r--r-- 1 root root   73 May 19 20:48 description
-rw-r--r-- 1 root root   23 May 19 20:48 HEAD
drwxr-xr-x 2 root root 4096 May 19 20:48 hooks
drwxr-xr-x 2 root root 4096 May 19 20:48 info
drwxr-xr-x 4 root root 4096 May 19 20:48 objects
drwxr-xr-x 4 root root 4096 May 19 20:48 refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:03$  rm -fr /tmp/vcsrepo.4bP4KV  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/create/negative/create_bare_repo_specifying_revision.rb passed in 1.40 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/group_checkout/negative/group_checkout_file_non_existent_group.rb
[00;00m[01;37m
C3484 - checkout as a group that is not on system
[00;00m[00;37m
centos-64-x64 16:48:03$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.KJmxJB
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:03$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.KJmxJB {}
[00;00m[00;37m
centos-64-x64 16:48:03$  cd /tmp/vcsrepo.KJmxJB && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.KJmxJB/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 2914866] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master e296392] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 625f5f2] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch e4655b4] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 3c6d16b] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 2652b38] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - delete group
[00;00m[00;37m
centos-64-x64 16:48:04$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.BSsMQg
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-g7xmbg centos-64-x64:/tmp/apply_manifest.pp.BSsMQg {}
[00;00m[00;37m
centos-64-x64 16:48:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.BSsMQg
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532482'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.79 seconds
[00;00m[01;37m
  * checkout as a group with puppet
[00;00m[00;37m
centos-64-x64 16:48:04$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.VD78sA
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-17ckdxb centos-64-x64:/tmp/apply_manifest.pp.VD78sA {}
[00;00m[00;37m
centos-64-x64 16:48:04$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.VD78sA
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532483'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.KJmxJB/testrepo_group_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Could not set 'present' on ensure: can't find group for mygroup at 6:/tmp/apply_manifest.pp.VD78sA
Error: Could not set 'present' on ensure: can't find group for mygroup at 6:/tmp/apply_manifest.pp.VD78sA
Wrapped exception:
can't find group for mygroup
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.KJmxJB/testrepo_group_checkout]/ensure: change from absent to present failed: Could not set 'present' on ensure: can't find group for mygroup at 6:/tmp/apply_manifest.pp.VD78sA
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.21 seconds
[00;00m[00;37m
centos-64-x64 16:48:06$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.fDw6Th
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-9tbytw centos-64-x64:/tmp/apply_manifest.pp.fDw6Th {}
[00;00m[00;37m
centos-64-x64 16:48:06$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fDw6Th
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532484'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify git checkout is NOT owned by group mygroup
[00;00m[00;37m
centos-64-x64 16:48:07$  ls /tmp/vcsrepo.KJmxJB/testrepo_group_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:07$  stat --format '%U:%G' /tmp/vcsrepo.KJmxJB/testrepo_group_checkout/.git/HEAD  
[00;00m[01;30mroot:root
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:07$  rm -fr /tmp/vcsrepo.KJmxJB  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/group_checkout/negative/group_checkout_file_non_existent_group.rb passed in 3.44 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/revision_checkout/negative/revision_checkout_not_exists.rb
[00;00m[01;37m
C3614 - checkout a revision that does not exist
[00;00m[00;37m
centos-64-x64 16:48:07$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.TBljlC
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:07$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.TBljlC {}
[00;00m[00;37m
centos-64-x64 16:48:07$  cd /tmp/vcsrepo.TBljlC && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.TBljlC/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) f2a0f8a] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 44b88be] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master b10c25b] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 68f6f85] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 5f3b9fc] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch da318ee] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout revision that does not exist with puppet
[00;00m[00;37m
centos-64-x64 16:48:07$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.qncYCx
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1we4llm centos-64-x64:/tmp/apply_manifest.pp.qncYCx {}
[00;00m[00;37m
centos-64-x64 16:48:07$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.qncYCx
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532486'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.TBljlC/testrepo_revision_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git checkout --force 11111111111111111' returned 1: error: pathspec '11111111111111111' did not match any file(s) known to git.
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.TBljlC/testrepo_revision_checkout]/ensure: change from absent to present failed: Execution of '/usr/bin/git checkout --force 11111111111111111' returned 1: error: pathspec '11111111111111111' did not match any file(s) known to git.
[00;00m[01;30m[mNotice: Finished catalog run in 0.47 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.29 seconds
[00;00m[00;37m
centos-64-x64 16:48:08$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.dwGUOk
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-14ujkut centos-64-x64:/tmp/apply_manifest.pp.dwGUOk {}
[00;00m[00;37m
centos-64-x64 16:48:08$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.dwGUOk
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532487'[00;00m[01;30m
[00;00m[01;30mError: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.TBljlC/testrepo_revision_checkout]: Could not evaluate: 11111111111111111 is not a local or remote ref
[00;00m[01;30m[mNotice: Finished catalog run in 0.65 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.47 seconds
[00;00m[01;37m
  * verify that master revision is checked out
[00;00m[00;37m
centos-64-x64 16:48:10$  ls /tmp/vcsrepo.TBljlC/testrepo_revision_checkout/.git/  
[00;00m[01;30mbranches
config
description
FETCH_HEAD
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:10$  cat /tmp/vcsrepo.TBljlC/testrepo_revision_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:10$  rm -fr /tmp/vcsrepo.TBljlC  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/revision_checkout/negative/revision_checkout_not_exists.rb passed in 3.13 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_exec_depth.rb
[00;00m[01;37m
C3608 - shallow clone repo depth hostile input
[00;00m[00;37m
centos-64-x64 16:48:10$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.QOzK0z
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:10$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.QOzK0z {}
[00;00m[00;37m
centos-64-x64 16:48:10$  cd /tmp/vcsrepo.QOzK0z && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.QOzK0z/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) a8d9e90] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 2ea8f4a] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 36e8091] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch ce9b899] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 4934dd0] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch cf75fa3] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * shallow clone repo with puppet (bad input ignored, full clone checkedout)
[00;00m[00;37m
centos-64-x64 16:48:10$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.7Akxp9
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1y1a0io centos-64-x64:/tmp/apply_manifest.pp.7Akxp9 {}
[00;00m[00;37m
centos-64-x64 16:48:10$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.7Akxp9
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532489'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.QOzK0z/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.QOzK0z/testrepo_shallow_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.21 seconds
[00;00m[00;37m
centos-64-x64 16:48:11$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.owtY7E
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1kkij8l centos-64-x64:/tmp/apply_manifest.pp.owtY7E {}
[00;00m[00;37m
centos-64-x64 16:48:11$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.owtY7E
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532490'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.04 seconds
[00;00m[01;37m
  * verify checkout is NOT shallow
[00;00m[00;37m
centos-64-x64 16:48:12$  ls /tmp/vcsrepo.QOzK0z/testrepo_shallow_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:12$  rm -fr /tmp/vcsrepo.QOzK0z  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_exec_depth.rb passed in 2.63 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_file_path.rb
[00;00m[01;37m
C3475 - shallow clone repo minimal depth = 1 (file path protocol)
[00;00m[01;37m
Not currently supported. See FM-1285
[00;00m[00;37mspec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_file_path.rb skipped in 0.00 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_http.rb
[00;00m[01;37m
C3479 - shallow clone repo minimal depth = 1 (http protocol)
[00;00m[00;37m
centos-64-x64 16:48:12$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.n43JCR
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:12$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.26 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.n43JCR {}
[00;00m[00;37m
centos-64-x64 16:48:13$  cd /tmp/vcsrepo.n43JCR && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.n43JCR/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) c07d921] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 4a78609] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master b4ca526] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 007a7ab] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch e31ddee] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 7248128] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - start http server
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1tegx52 centos-64-x64:/tmp/http_daemon.rb {}
[00;00m[00;37m
centos-64-x64 16:48:13$  ruby /tmp/http_daemon.rb  
[00;00m[01;30m[2014-05-19 20:48:11] INFO  WEBrick 1.3.1
[00;00m[01;30m[2014-05-19 20:48:11] INFO  ruby 1.8.7 (2011-06-30) [x86_64-linux]
[00;00m[01;30m[2014-05-19 20:48:11] WARN  TCPServer Error: Address already in use - bind(2)
[00;00m[00;37m
centos-64-x64 executed in 0.11 seconds
[00;00m[01;37m
  * shallow clone repo with puppet
[00;00m[00;37m
centos-64-x64 16:48:13$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.vPmF1g
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-13fwkdj centos-64-x64:/tmp/apply_manifest.pp.vPmF1g {}
[00;00m[00;37m
centos-64-x64 16:48:13$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vPmF1g
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532492'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.n43JCR/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone --depth 1 http://centos-64-x64:8000/testrepo.git /tmp/vcsrepo.n43JCR/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.n43JCR/testrepo_shallow_clone/.git/
fatal: dumb http transport does not support --depth[00;00m[01;30m
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.n43JCR/testrepo_shallow_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone --depth 1 http://centos-64-x64:8000/testrepo.git /tmp/vcsrepo.n43JCR/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.n43JCR/testrepo_shallow_clone/.git/
fatal: dumb http transport does not support --depth
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.22 seconds
[00;00m[00;37m
centos-64-x64 16:48:14$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.RZHwLJ
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1tpvueu centos-64-x64:/tmp/apply_manifest.pp.RZHwLJ {}
[00;00m[00;37m
centos-64-x64 16:48:14$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.RZHwLJ
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532493'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.n43JCR/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Execution of '/usr/bin/git clone --depth 1 http://centos-64-x64:8000/testrepo.git /tmp/vcsrepo.n43JCR/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.n43JCR/testrepo_shallow_clone/.git/
fatal: dumb http transport does not support --depth[00;00m[01;30m
[00;00m[01;30mError: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.n43JCR/testrepo_shallow_clone]/ensure: change from absent to present failed: Execution of '/usr/bin/git clone --depth 1 http://centos-64-x64:8000/testrepo.git /tmp/vcsrepo.n43JCR/testrepo_shallow_clone' returned 128: Initialized empty Git repository in /tmp/vcsrepo.n43JCR/testrepo_shallow_clone/.git/
fatal: dumb http transport does not support --depth[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.24 seconds
[00;00m[01;37m
  * git does not support shallow clone via HTTP: verify checkout is NOT created
[00;00m[00;37m
centos-64-x64 16:48:15$  ls /tmp/vcsrepo.n43JCR  
[00;00m[01;30mcreate_git_repo.sh
testrepo.git
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:15$  rm -fr /tmp/vcsrepo.n43JCR  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:15$  ps ax | grep "#{ruby} /tmp/http_daemon.rb" | grep -v grep | awk '{print "kill -9 " $1}' | sh  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_http.rb passed in 2.99 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_negative_depth.rb
[00;00m[01;37m
C3607 - shallow clone repo depth = -1
[00;00m[00;37m
centos-64-x64 16:48:15$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.MUbfGg
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:15$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.MUbfGg {}
[00;00m[00;37m
centos-64-x64 16:48:16$  cd /tmp/vcsrepo.MUbfGg && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.MUbfGg/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 4a679f5] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 4bd53dc] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 845dc17] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch d417d1f] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 24ba2ba] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 039ed97] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * shallow clone repo with puppet (bad input ignored, full clone checkedout)
[00;00m[00;37m
centos-64-x64 16:48:16$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.DcrV3v
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1izsrdb centos-64-x64:/tmp/apply_manifest.pp.DcrV3v {}
[00;00m[00;37m
centos-64-x64 16:48:16$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.DcrV3v
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532495'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.MUbfGg/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.MUbfGg/testrepo_shallow_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.40 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.23 seconds
[00;00m[00;37m
centos-64-x64 16:48:17$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.JAWy0R
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-1b40r4o centos-64-x64:/tmp/apply_manifest.pp.JAWy0R {}
[00;00m[00;37m
centos-64-x64 16:48:17$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.JAWy0R
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532496'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify checkout is NOT shallow
[00;00m[00;37m
centos-64-x64 16:48:18$  ls /tmp/vcsrepo.MUbfGg/testrepo_shallow_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:18$  rm -fr /tmp/vcsrepo.MUbfGg  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_negative_depth.rb passed in 2.68 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_overflow_depth.rb
[00;00m[01;37m
C3606 - shallow clone repo depth overflow 64bit integer
[00;00m[00;37m
centos-64-x64 16:48:18$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.PIhfCI
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:18$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.25 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.PIhfCI {}
[00;00m[00;37m
centos-64-x64 16:48:18$  cd /tmp/vcsrepo.PIhfCI && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.PIhfCI/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) fac5b2a] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 140a53d] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 6590749] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 0d36132] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 724fa02] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 4799d13] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * shallow clone repo with puppet (bad input ignored, full clone checkedout)
[00;00m[00;37m
centos-64-x64 16:48:18$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.klrffK
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-3qmufu centos-64-x64:/tmp/apply_manifest.pp.klrffK {}
[00;00m[00;37m
centos-64-x64 16:48:18$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.klrffK
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532497'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.PIhfCI/testrepo_shallow_clone]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.PIhfCI/testrepo_shallow_clone]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.22 seconds
[00;00m[00;37m
centos-64-x64 16:48:20$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.vdqRC8
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-diibet centos-64-x64:/tmp/apply_manifest.pp.vdqRC8 {}
[00;00m[00;37m
centos-64-x64 16:48:20$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.vdqRC8
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.06 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532498'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.07 seconds
[00;00m[01;37m
  * verify checkout is NOT shallow
[00;00m[00;37m
centos-64-x64 16:48:21$  ls /tmp/vcsrepo.PIhfCI/testrepo_shallow_clone/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:21$  rm -fr /tmp/vcsrepo.PIhfCI  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_overflow_depth.rb passed in 2.65 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/tag_checkout/negative/tag_checkout_not_exists.rb
[00;00m[01;37m
C3612 - checkout a tag that does not exist
[00;00m[00;37m
centos-64-x64 16:48:21$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.ImpMOO
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:21$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.25 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.ImpMOO {}
[00;00m[00;37m
centos-64-x64 16:48:21$  cd /tmp/vcsrepo.ImpMOO && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.ImpMOO/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 4bf5dfc] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 062c011] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 3b76854] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 8baa132] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch c8e8d45] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 64ab562] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * checkout tag that does not exist with puppet
[00;00m[00;37m
centos-64-x64 16:48:21$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.WRwLGb
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-jgxf62 centos-64-x64:/tmp/apply_manifest.pp.WRwLGb {}
[00;00m[00;37m
centos-64-x64 16:48:21$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.WRwLGb
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532500'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ImpMOO/testrepo_tag_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ImpMOO/testrepo_tag_checkout]/ensure: created
[00;00m[01;30m[mNotice: Finished catalog run in 0.38 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.23 seconds
[00;00m[00;37m
centos-64-x64 16:48:22$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.77rASo
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-omjrh3 centos-64-x64:/tmp/apply_manifest.pp.77rASo {}
[00;00m[00;37m
centos-64-x64 16:48:22$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.77rASo
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532501'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.24 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.06 seconds
[00;00m[01;37m
  * verify that master tag is checked out
[00;00m[00;37m
centos-64-x64 16:48:23$  ls /tmp/vcsrepo.ImpMOO/testrepo_tag_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:23$  cat /tmp/vcsrepo.ImpMOO/testrepo_tag_checkout/.git/HEAD  
[00;00m[01;30mref: refs/heads/master
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:23$  rm -fr /tmp/vcsrepo.ImpMOO  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/tag_checkout/negative/tag_checkout_not_exists.rb passed in 2.66 seconds
[00;00m[01;37m[00;00m[01;37mBegin spec/acceptance/beaker/git/user_checkout/negative/user_checkout_file_non_existent_user.rb
[00;00m[01;37m
C3483 - checkout as a user that is not on system
[00;00m[00;37m
centos-64-x64 16:48:23$  mktemp -td vcsrepo.XXXXXX  
[00;00m[01;30m/tmp/vcsrepo.ORrHWd
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[01;37m
  * setup - create repo
[00;00m[00;37m
centos-64-x64 16:48:23$  yum -y  install git  
[00;00m[01;30mLoaded plugins: fastestmirror, security
[00;00m[01;30mLoading mirror speeds from cached hostfile
[00;00m[01;30m * base: centos.mirrors.tds.net
[00;00m[01;30m * extras: mirror.cs.uwp.edu
[00;00m[01;30m * updates: centos.mirror.nac.net
[00;00m[01;30mSetting up Install Process
[00;00m[01;30mPackage git-1.7.1-3.el6_4.1.x86_64 already installed and latest version
[00;00m[01;30mNothing to do
[00;00m[00;37m
centos-64-x64 executed in 0.27 seconds
[00;00m[00;37mlocalhost $ scp /Users/morgan/work/puppetlabs-vcsrepo/spec/acceptance/files/create_git_repo.sh centos-64-x64:/tmp/vcsrepo.ORrHWd {}
[00;00m[00;37m
centos-64-x64 16:48:24$  cd /tmp/vcsrepo.ORrHWd && ./create_git_repo.sh  
[00;00m[01;30mInitialized empty Git repository in /tmp/vcsrepo.ORrHWd/testrepo/.git/
[00;00m[01;30mfatal: Failed to resolve 'HEAD' as a valid ref.
[00;00m[01;30m[master (root-commit) 8007d30] add file1
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file1.txt
[00;00m[01;30m[master 7b25fbb] add file2
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file2.txt
[00;00m[01;30m[master 2f7e619] add file3
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file3.txt
[00;00m[01;30mSwitched to a new branch 'a_branch'
[00;00m[01;30m[a_branch 4c49c6f] add file4
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file4.txt
[00;00m[01;30m[a_branch 1b4fa43] add file5
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file5.txt
[00;00m[01;30m[a_branch 9431b87] add file6
 Committer: root <root@centos-64-x64.(none)>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

If the identity used for this commit is wrong, you can fix it with:

    git commit --amend --author='Your Name <you@example.com>'

 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 file6.txt
[00;00m[01;30mSwitched to branch 'master'
[00;00m[00;37m
centos-64-x64 executed in 0.04 seconds
[00;00m[01;37m
  * setup - delete user
[00;00m[00;37m
centos-64-x64 16:48:24$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Yu8rT0
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-193srjc centos-64-x64:/tmp/apply_manifest.pp.Yu8rT0 {}
[00;00m[00;37m
centos-64-x64 16:48:24$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Yu8rT0
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.10 seconds[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532503'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.03 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 0.81 seconds
[00;00m[01;37m
  * checkout as a user with puppet
[00;00m[00;37m
centos-64-x64 16:48:25$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.fmEuUd
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-12u6xy3 centos-64-x64:/tmp/apply_manifest.pp.fmEuUd {}
[00;00m[00;37m
centos-64-x64 16:48:25$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.fmEuUd
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532503'[00;00m[01;30m
[00;00m[01;30m[mNotice: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ORrHWd/testrepo_user_checkout]/ensure: Creating repository from present[00;00m[01;30m
[00;00m[01;30mError: Could not set 'present' on ensure: can't find user for myuser at 6:/tmp/apply_manifest.pp.fmEuUd
Error: Could not set 'present' on ensure: can't find user for myuser at 6:/tmp/apply_manifest.pp.fmEuUd
Wrapped exception:
can't find user for myuser
Error: /Stage[main]/Main/Vcsrepo[/tmp/vcsrepo.ORrHWd/testrepo_user_checkout]/ensure: change from absent to present failed: Could not set 'present' on ensure: can't find user for myuser at 6:/tmp/apply_manifest.pp.fmEuUd
[00;00m[01;30m[mNotice: Finished catalog run in 0.39 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.20 seconds
[00;00m[00;37m
centos-64-x64 16:48:26$  mktemp -t apply_manifest.pp.XXXXXX  
[00;00m[01;30m/tmp/apply_manifest.pp.Stj9tG
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37mlocalhost $ scp /var/folders/lg/30b4jczn223dpktp3kcwzrrr0000gn/T/beaker20140519-6551-12uuihp centos-64-x64:/tmp/apply_manifest.pp.Stj9tG {}
[00;00m[00;37m
centos-64-x64 16:48:26$ env PATH="/usr/bin:/opt/puppet-git-repos/hiera/bin:${PATH}" RUBYLIB="/opt/puppet-git-repos/hiera/lib:/opt/puppet-git-repos/hiera-puppet/lib:${RUBYLIB}" puppet apply  --verbose /tmp/apply_manifest.pp.Stj9tG
[00;00m[01;30m[mNotice: Compiled catalog for centos-64-x64.corp.puppetlabs.net in environment production in 0.05 seconds[00;00m[01;30m
[00;00m[01;30mWarning: Found multiple default providers for vcsrepo: git, bzr, svn, cvs, hg, dummy; using git[00;00m[01;30m
[00;00m[01;30mInfo: Applying configuration version '1400532505'[00;00m[01;30m
[00;00m[01;30m[mNotice: Finished catalog run in 0.22 seconds[00;00m[01;30m
[00;00m[00;37m
centos-64-x64 executed in 1.05 seconds
[00;00m[01;37m
  * verify git checkout is NOT owned by user myuser
[00;00m[00;37m
centos-64-x64 16:48:27$  ls /tmp/vcsrepo.ORrHWd/testrepo_user_checkout/.git/  
[00;00m[01;30mbranches
config
description
HEAD
hooks
index
info
logs
objects
packed-refs
refs
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:27$  stat --format '%U:%G' /tmp/vcsrepo.ORrHWd/testrepo_user_checkout/.git/HEAD  
[00;00m[01;30mroot:root
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;37m
centos-64-x64 16:48:27$  rm -fr /tmp/vcsrepo.ORrHWd  
[00;00m[00;37m
centos-64-x64 executed in 0.01 seconds
[00;00m[00;32mspec/acceptance/beaker/git/user_checkout/negative/user_checkout_file_non_existent_user.rb passed in 3.47 seconds
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/branch_checkout/branch_checkout_scp.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.K9Slvi/testrepo_branch_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/branch_checkout/branch_checkout_ssh.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.c9eL8X/testrepo_branch_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/clone/clone_scp.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.HzDNai/testrepo_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.HzDNai/testrepo_clone/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/clone/clone_ssh.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.XEuagR/testrepo_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.XEuagR/testrepo_clone/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/group_checkout/group_checkout_scp.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.argogQ/testrepo_group_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/group_checkout/group_checkout_ssh.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.RQkZO2/testrepo_group_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/revision_checkout/revision_checkout_scp.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.AZhCbR/testrepo_revision_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/revision_checkout/revision_checkout_ssh.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.bQx2FH/testrepo_revision_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/shallow_clone/shallow_clone_scp.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.bDWugz/testrepo_shallow_clone/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/shallow_clone/shallow_clone_ssh.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.0nHnTI/testrepo_shallow_clone/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/tag_checkout/tag_checkout_scp.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.5onLPU/testrepo_tag_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/tag_checkout/tag_checkout_ssh.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.VU03Y6/testrepo_tag_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/user_checkout/user_checkout_scp.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.srlF3l/testrepo_user_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/user_checkout/user_checkout_ssh.rb reported: #<Beaker::Host::CommandFailure: Host 'centos-64-x64' exited with 2 running:
  ls /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/  
Last 10 lines of output were:
	ls: cannot access /tmp/vcsrepo.ZhuIbc/testrepo_user_checkout/.git/: No such file or directory>
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/basic_auth/basic_auth_checkout_http.rb skip
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/basic_auth/basic_auth_checkout_https.rb skip
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/shallow_clone/shallow_clone_https.rb skip
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/clone/negative/clone_repo_with_exec_excludes.rb skip
[00;00m[01;37m  Test Case spec/acceptance/beaker/git/shallow_clone/negative/shallow_clone_file_path.rb skip
[00;00m[01;31mFailed: errored in TestSuite: report_and_raise_on_failure
[00;00m[01;31m#<RuntimeError: Failed while running the tests suite>
[00;00m[01;37mNo tests to run for suite 'post_suite'
[00;00m[01;37mCleanup: cleaning up after failed run
[00;00m[00;37mremoving temporory ssh-config files per-vagrant box
[00;00m[01;37mDestroying vagrant boxes
[00;00m[00;37m==> centos-64-x64: Forcing shutdown of VM...
[00;00m[00;37m==> centos-64-x64: Destroying VM and associated drives...
[00;00m[01;31m
Failed to execute tests!
[00;00m[01;31mYou can reproduce this run with:
[00;00m[01;31m/usr/local/var/rbenv/versions/1.9.3-p545/bin/beaker --hosts spec/acceptance/nodesets/default.yml --pre-suite install.rb --tests spec/acceptance/beaker
[00;00m